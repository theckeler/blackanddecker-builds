{"ast":null,"code":"import _defineProperty from\"/Users/toddheckeler/websites/paas-calculator/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"/Users/toddheckeler/websites/paas-calculator/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/toddheckeler/websites/paas-calculator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/toddheckeler/websites/paas-calculator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/toddheckeler/websites/paas-calculator/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import paasCal from\"../data/paas-cal.json\";import PMT from\"../utils/pmt\";import Loading from\"./loading/Loading\";import Steps from\"./steps/Steps\";import\"../scss/paas-calculator.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PaasCalculator=function PaasCalculator(){//#region PRE-CALCULATIONS\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var averageWeeksPerMonth=Number(paasCal.averageWeeksPerMonth/12).toFixed(4);var _useState3=useState(paasCal.mowingMonthly),_useState4=_slicedToArray(_useState3,2),mowingMonthly=_useState4[0],setMowingMonthly=_useState4[1];var _useState5=useState(paasCal.lengthOffSeason),_useState6=_slicedToArray(_useState5,2),lengthOffSeason=_useState6[0],setLengthOffSeason=_useState6[1];var _useState7=useState(_objectSpread({},paasCal.customerInputs)),_useState8=_slicedToArray(_useState7,2),customerInputs=_useState8[0],setCustomerInputs=_useState8[1];var _useState9=useState(_objectSpread({},paasCal.equipment.deault)),_useState10=_slicedToArray(_useState9,2),requiredEquipment=_useState10[0],setRequiredEquipment=_useState10[1];var powerProgramCosts=_objectSpread({},paasCal.equipment.pricing);var NGBRBatteryCapacity=paasCal.NGBRBatteryCapacity;var averageHourlyMaintenanceCost=paasCal.averageHourlyMaintenanceCost;var fuelConsumptionRate=paasCal.fuelConsumptionRate;var electricMaintenanceCostGas=paasCal.electricMaintenanceCostGas;var _useState11=useState(paasCal.duoarea),_useState12=_slicedToArray(_useState11,2),duoarea=_useState12[0],setDuoarea=_useState12[1];var _useState13=useState(_objectSpread({},paasCal.pricing)),_useState14=_slicedToArray(_useState13,2),pricing=_useState14[0],setPricing=_useState14[1];var _useState15=useState(paasCal.monthlyPaaSPowerCostNGBR),_useState16=_slicedToArray(_useState15,2),monthlyPaaSPowerCostNGBR=_useState16[0],setMonthlyPaaSPowerCostNGBR=_useState16[1];var _useState17=useState(paasCal.monthlyPaaSPowerCostNGBR),_useState18=_slicedToArray(_useState17,2),totalMonthlyPaaSPowerCost=_useState18[0],setTotalMonthlyPaaSPowerCost=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),monthlyMaintenanceCostPerZTR=_useState20[0],setMonthlyMaintenanceCostPerZTR=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),monthlyFuelCostPerZTR=_useState22[0],setMonthlyFuelCostPerZTR=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),monthlyMaintenanceCostPerNGBR=_useState24[0],setMonthlyMaintenanceCostPerNGBR=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),totalMonthlyZTRFuelCost=_useState26[0],setTotalMonthlyZTRFuelCost=_useState26[1];var _useState27=useState(0),_useState28=_slicedToArray(_useState27,2),totalMonthlyZTRMaintenanceCost=_useState28[0],setTotalMonthlyZTRMaintenanceCost=_useState28[1];var depreciationInputs=_objectSpread({},paasCal.depreciationInputs);var totalHoursMowedTCOAnalysis=3000;var _useState29=useState(1.978),_useState30=_slicedToArray(_useState29,2),lengthMowingOperationsTCO=_useState30[0],setLengthMowingOperationsTCO=_useState30[1];// const paaSPremiumOverFourYearFinancing =\n//   paasCal.paaSPremiumOverFourYearFinancing;\nvar _useState31=useState(0),_useState32=_slicedToArray(_useState31,2),totalMonthlyPaaSMaintenanceCost=_useState32[0],setTotalMonthlyPaaSMaintenanceCost=_useState32[1];var _useState33=useState(0),_useState34=_slicedToArray(_useState33,2),NGBROpEx=_useState34[0],setNGBROpEx=_useState34[1];var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),gasZTROpEx=_useState36[0],setGasZTROpEx=_useState36[1];var _useState37=useState(0),_useState38=_slicedToArray(_useState37,2),totalGasZTRPurchasePrice=_useState38[0],setTotalGasZTRPurchasePrice=_useState38[1];var BareNGBR=paasCal.BareNGBR;var _useState39=useState(0),_useState40=_slicedToArray(_useState39,2),totalNGBRCostBare=_useState40[0],setTotalNGBRCostBare=_useState40[1];var _useState41=useState(0),_useState42=_slicedToArray(_useState41,2),costofChargers=_useState42[0],setCostofChargers=_useState42[1];var _useState43=useState(0),_useState44=_slicedToArray(_useState43,2),costofBateries=_useState44[0],setCostofBateries=_useState44[1];var _useState45=useState(0),_useState46=_slicedToArray(_useState45,2),totalNGBRCostWith=_useState46[0],setTotalNGBRCostWith=_useState46[1];var _useState47=useState(0),_useState48=_slicedToArray(_useState47,2),savingsWith4yearFinancing=_useState48[0],setSavingsWith4yearFinancing=_useState48[1];var _useState49=useState(0),_useState50=_slicedToArray(_useState49,2),savingsWith3yearFinancing=_useState50[0],setSavingsWith3yearFinancing=_useState50[1];var _useState51=useState(0),_useState52=_slicedToArray(_useState51,2),savingsWithFPP=_useState52[0],setSavingsWithFPP=_useState52[1];var _useState53=useState(0),_useState54=_slicedToArray(_useState53,2),savingsWithNGBRCashPurchase=_useState54[0],setSavingsWithNGBRCashPurchase=_useState54[1];var _useState55=useState({breakeven4yearFinancingNoResale:0,breakeven3yearFinancingNoResale:0,breakevenFPPNoResale:0,breakevenOutrightPurchaseNoResale:0}),_useState56=_slicedToArray(_useState55,2),breakeven=_useState56[0],setBreakeven=_useState56[1];var _useState57=useState(0),_useState58=_slicedToArray(_useState57,2),NGBRResalePriceBareNGBR=_useState58[0],setNGBRResalePriceBareNGBR=_useState58[1];var _useState59=useState(0),_useState60=_slicedToArray(_useState59,2),NGBRResalePriceNGBR=_useState60[0],setNGBRResalePriceNGBR=_useState60[1];var _useState61=useState(0),_useState62=_slicedToArray(_useState61,2),gasZTRResalePrice=_useState62[0],setGasZTRResalePrice=_useState62[1];var _useState63=useState(0),_useState64=_slicedToArray(_useState63,2),eZTRResalePremiumBareNGBR=_useState64[0],setEZTRResalePremiumBareNGBR=_useState64[1];var _useState65=useState(0),_useState66=_slicedToArray(_useState65,2),eZTRResalePremiumCashPurchase=_useState66[0],setEZTRResalePremiumCashPurchase=_useState66[1];var _useState67=useState({TCOofGasZTR:0,depreciationofGasZTR:0,fuel:0,maintenance:0}),_useState68=_slicedToArray(_useState67,2),gasZTR=_useState68[0],setGasZTR=_useState68[1];var _useState69=useState({TCOofNGBR:0,depreciationofGasZTR:0,power:0,maintenance:0}),_useState70=_slicedToArray(_useState69,2),cashPurchase=_useState70[0],setCashPurchase=_useState70[1];var _useState71=useState({depreciationOfBareNGBR:0,flexiblePowerProgramSubscription:0,financingFee36:0,financingFee48:0}),_useState72=_slicedToArray(_useState71,2),NGBRWithFlexiblePowerProgram=_useState72[0],setNGBRWithFlexiblePowerProgram=_useState72[1];var enviromentalBenefits=_objectSpread({},paasCal.enviromentalBenefits);var _useState73=useState(paasCal.gallonsOfFuelConsumedOverPerYear),_useState74=_slicedToArray(_useState73,2),gallonsOfFuelConsumedOverPerYear=_useState74[0],setGallonsOfFuelConsumedOverPerYear=_useState74[1];var _useState75=useState(paasCal.poundsOfCO2Avoided),_useState76=_slicedToArray(_useState75,2),poundsOfCO2Avoided=_useState76[0],setPoundsOfCO2Avoided=_useState76[1];var averageFrequencyPerZTRServicing=paasCal.averageFrequencyPerZTRServicing;var averageCommuteToFromServicingDealer=paasCal.averageCommuteToFromServicingDealer;var averageTimeForServicing=paasCal.averageTimeForServicing;var averageTotalTimeForServicing=averageTimeForServicing+averageCommuteToFromServicingDealer;var _useState77=useState(paasCal.numberOfMaintenanceJobsPerYear),_useState78=_slicedToArray(_useState77,2),numberOfMaintenanceJobsPerYear=_useState78[0],setNumberOfMaintenanceJobsPerYear=_useState78[1];var _useState79=useState(_objectSpread({},paasCal.reductionFromNGBRResale)),_useState80=_slicedToArray(_useState79,2),reductionFromNGBRResale=_useState80[0],setReductionFromNGBRResale=_useState80[1];var _useState81=useState({state:false,gasZTRPrice:false,daysMowedPerWeek:false,numberNGBRUnits:false,mowingHours:false,lengthMowingSeason:false}),_useState82=_slicedToArray(_useState81,2),editThis=_useState82[0],setEditThis=_useState82[1];//#endregion PRE-CALCULATIONS\n//#region useEffects\n//const [checkObserve, setCheckObserve] = useState(false);\n// OBSERVER:\n// useEffect(() => {\n//   const observer = new IntersectionObserver(\n//     ([entry]) => {\n//       if (entry.isIntersecting) {\n//         setCheckObserve(true);\n//         //console.log(\"in view\");\n//       } else {\n//         setCheckObserve(false);\n//         document.querySelectorAll(\".tip\").forEach((tip) => {\n//           tip.classList.remove(\"active\");\n//         });\n//       }\n//     },\n//     {\n//       root: null,\n//       //threshold: 0.7,\n//     }\n//   );\n//   observer.observe(document.querySelector(\"#inputs\"));\n// }, [checkObserve]);\nvar _useState83=useState(paasCal.latestFuelWeeklyPrice),_useState84=_slicedToArray(_useState83,2),latestFuelWeeklyPrice=_useState84[0],setLatestFuelWeeklyPrice=_useState84[1];var _useState85=useState(paasCal.latestAvgPowerPrice),_useState86=_slicedToArray(_useState85,2),latestAvgPowerPrice=_useState86[0],setLatestAvgPowerPrice=_useState86[1];useEffect(function(){var resetInError=function resetInError(type){if(type===\"petroleum\"){setLatestFuelWeeklyPrice(paasCal.latestFuelWeeklyPrice);}else{setLatestAvgPowerPrice(paasCal.latestAvgPowerPrice);}};var fetchLatestPrices=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url,type){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch(url).then(function(response){if(response.ok){return response.json();}else{resetInError(type);throw new Error(\"Something went wrong\");}}).then(function(data){if(type===\"petroleum\"){setLatestFuelWeeklyPrice(data.response.data[0].value);}else{setLatestAvgPowerPrice(data.response.data[0].price/100);}}).catch(function(){resetInError(type);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function fetchLatestPrices(_x,_x2){return _ref.apply(this,arguments);};}();Promise.allSettled([fetchLatestPrices(\"https://api.eia.gov/v2/petroleum/pri/gnd/data/?frequency=weekly&data[0]=value&facets[product][]=EPMRU&facets[duoarea][]=\".concat(duoarea,\"&sort[0][column]=period&sort[0][direction]=desc&length=1&api_key=\").concat(process.env.REACT_APP_EIA_KEY),\"petroleum\"),fetchLatestPrices(\"https://api.eia.gov/v2/electricity/retail-sales/data/?frequency=monthly&data[0]=price&facets[sectorid][]=RES&facets[stateid][]=\".concat(customerInputs.location,\"&sort[0][column]=period&sort[0][direction]=desc&length=1&api_key=\").concat(process.env.REACT_APP_EIA_KEY),\"electricity\")]).then(function(){setLoading(false);});},[customerInputs.location,duoarea]);useEffect(function(){setMowingMonthly((customerInputs.mowingHours*customerInputs.daysMowedPerWeek*averageWeeksPerMonth).toFixed(4));},[averageWeeksPerMonth,customerInputs.daysMowedPerWeek,customerInputs.mowingHours]);useEffect(function(){setLengthOffSeason(12-customerInputs.lengthMowingSeason);},[customerInputs.lengthMowingSeason]);useEffect(function(){setMonthlyPaaSPowerCostNGBR(Math.round(latestAvgPowerPrice*NGBRBatteryCapacity*mowingMonthly));},[NGBRBatteryCapacity,latestAvgPowerPrice,mowingMonthly]);useEffect(function(){setTotalMonthlyPaaSPowerCost(monthlyPaaSPowerCostNGBR*customerInputs.numberNGBRUnits);},[customerInputs.numberNGBRUnits,monthlyPaaSPowerCostNGBR]);useEffect(function(){setRequiredEquipment({bateries:paasCal.equipment.deault.bateries,chargers:paasCal.equipment.deault.chargers,totalBateries:paasCal.equipment.deault.bateries*customerInputs.numberNGBRUnits,totalChargers:paasCal.equipment.deault.chargers*customerInputs.numberNGBRUnits});},[customerInputs.numberNGBRUnits]);useEffect(function(){setMonthlyMaintenanceCostPerZTR(Math.round(averageHourlyMaintenanceCost*mowingMonthly));},[averageHourlyMaintenanceCost,mowingMonthly]);useEffect(function(){setMonthlyFuelCostPerZTR(Math.round(latestFuelWeeklyPrice*fuelConsumptionRate*mowingMonthly));},[fuelConsumptionRate,latestFuelWeeklyPrice,mowingMonthly]);useEffect(function(){setMonthlyMaintenanceCostPerNGBR(Math.round(monthlyMaintenanceCostPerZTR*electricMaintenanceCostGas));},[electricMaintenanceCostGas,monthlyMaintenanceCostPerZTR]);useEffect(function(){setTotalMonthlyPaaSMaintenanceCost(monthlyMaintenanceCostPerNGBR*customerInputs.numberNGBRUnits);},[customerInputs.numberNGBRUnits,monthlyMaintenanceCostPerNGBR]);useEffect(function(){setNGBROpEx(totalMonthlyPaaSPowerCost+totalMonthlyPaaSMaintenanceCost);},[totalMonthlyPaaSMaintenanceCost,totalMonthlyPaaSPowerCost]);useEffect(function(){setTotalMonthlyZTRFuelCost(monthlyFuelCostPerZTR*customerInputs.numberNGBRUnits);},[customerInputs.numberNGBRUnits,monthlyFuelCostPerZTR]);useEffect(function(){setTotalMonthlyZTRMaintenanceCost(monthlyMaintenanceCostPerZTR*customerInputs.numberNGBRUnits);},[customerInputs.numberNGBRUnits,monthlyMaintenanceCostPerZTR]);useEffect(function(){setGasZTROpEx(totalMonthlyZTRFuelCost+totalMonthlyZTRMaintenanceCost);},[totalMonthlyZTRFuelCost,totalMonthlyZTRMaintenanceCost]);useEffect(function(){setTotalGasZTRPurchasePrice(customerInputs.gasZTRPrice*customerInputs.numberNGBRUnits);},[customerInputs.gasZTRPrice,customerInputs.numberNGBRUnits]);useEffect(function(){setTotalNGBRCostBare(BareNGBR*customerInputs.numberNGBRUnits);},[BareNGBR,customerInputs.numberNGBRUnits]);useEffect(function(){setCostofChargers(powerProgramCosts.charger*requiredEquipment.totalChargers);},[powerProgramCosts.charger,requiredEquipment.totalChargers]);useEffect(function(){setCostofBateries(powerProgramCosts.battery*requiredEquipment.totalBateries);},[powerProgramCosts.battery,requiredEquipment.totalBateries]);useEffect(function(){setTotalNGBRCostWith(costofBateries+costofChargers+totalNGBRCostBare);},[costofBateries,costofChargers,totalNGBRCostBare]);useEffect(function(){setSavingsWith4yearFinancing(gasZTROpEx-(NGBROpEx+pricing.priceMo48));},[NGBROpEx,gasZTROpEx,pricing.priceMo48]);useEffect(function(){setSavingsWith3yearFinancing(gasZTROpEx-(NGBROpEx+pricing.priceMo36));},[NGBROpEx,gasZTROpEx,pricing.priceMo36]);useEffect(function(){setSavingsWithFPP(gasZTROpEx-(NGBROpEx+pricing.targetPaasMonthlyPrice));},[NGBROpEx,gasZTROpEx,pricing.targetPaasMonthlyPrice]);useEffect(function(){setSavingsWithNGBRCashPurchase(gasZTROpEx-NGBROpEx);},[NGBROpEx,gasZTROpEx]);useEffect(function(){setBreakeven({breakevenOutrightPurchaseNoResale:((totalNGBRCostWith-totalGasZTRPurchasePrice)/savingsWithNGBRCashPurchase).toFixed(4),breakevenFPPNoResale:((totalNGBRCostBare-totalGasZTRPurchasePrice)/savingsWithFPP).toFixed(4),breakeven3yearFinancingNoResale:((totalNGBRCostBare-totalGasZTRPurchasePrice)/savingsWith3yearFinancing).toFixed(4),breakeven4yearFinancingNoResale:((totalNGBRCostBare-totalGasZTRPurchasePrice)/savingsWith4yearFinancing).toFixed(4)});},[savingsWith3yearFinancing,savingsWith4yearFinancing,savingsWithFPP,savingsWithNGBRCashPurchase,totalGasZTRPurchasePrice,totalNGBRCostBare,totalNGBRCostWith]);useEffect(function(){setNGBRResalePriceBareNGBR((totalNGBRCostBare*(1-depreciationInputs.electricZTRDepreciationRate)).toFixed(4));},[depreciationInputs.electricZTRDepreciationRate,totalNGBRCostBare]);useEffect(function(){setNGBRResalePriceNGBR((totalNGBRCostWith*(1-depreciationInputs.electricZTRDepreciationRate)).toFixed(4));},[depreciationInputs.electricZTRDepreciationRate,totalNGBRCostWith]);useEffect(function(){setGasZTRResalePrice((totalGasZTRPurchasePrice*(1-depreciationInputs.gasZTRDepreciationRate)).toFixed(4));},[depreciationInputs.gasZTRDepreciationRate,totalGasZTRPurchasePrice]);useEffect(function(){setEZTRResalePremiumBareNGBR(NGBRResalePriceBareNGBR-gasZTRResalePrice);},[NGBRResalePriceBareNGBR,gasZTRResalePrice]);useEffect(function(){setEZTRResalePremiumCashPurchase(NGBRResalePriceNGBR-eZTRResalePremiumBareNGBR);},[NGBRResalePriceNGBR,eZTRResalePremiumBareNGBR]);useEffect(function(){setGasZTR({TCOofGasZTR:gasZTR.depreciationofGasZTR+gasZTR.fuel+gasZTR.maintenance,depreciationofGasZTR:customerInputs.gasZTRPrice*depreciationInputs.gasZTRDepreciationRate*customerInputs.numberNGBRUnits,fuel:totalMonthlyZTRFuelCost*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO,maintenance:totalMonthlyZTRMaintenanceCost*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO});},[customerInputs.gasZTRPrice,customerInputs.lengthMowingSeason,customerInputs.numberNGBRUnits,depreciationInputs.gasZTRDepreciationRate,gasZTR.depreciationofGasZTR,gasZTR.fuel,gasZTR.maintenance,lengthMowingOperationsTCO,totalMonthlyZTRFuelCost,totalMonthlyZTRMaintenanceCost]);useEffect(function(){setCashPurchase({TCOofNGBR:cashPurchase.depreciationofGasZTR+cashPurchase.power+cashPurchase.maintenance,depreciationofGasZTR:totalNGBRCostWith*depreciationInputs.electricZTRDepreciationRate,power:totalMonthlyPaaSPowerCost*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO,maintenance:totalMonthlyPaaSMaintenanceCost*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO});},[cashPurchase.depreciationofGasZTR,cashPurchase.maintenance,cashPurchase.power,customerInputs.lengthMowingSeason,depreciationInputs.electricZTRDepreciationRate,lengthMowingOperationsTCO,totalMonthlyPaaSMaintenanceCost,totalMonthlyPaaSPowerCost,totalNGBRCostWith]);useEffect(function(){setNGBRWithFlexiblePowerProgram({depreciationOfBareNGBR:totalNGBRCostBare*depreciationInputs.electricZTRDepreciationRate,flexiblePowerProgramSubscription:pricing.targetPaasMonthlyPrice*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO,financingFee36:pricing.priceMo36*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO,financingFee48:pricing.priceMo48*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO});},[customerInputs.lengthMowingSeason,depreciationInputs.electricZTRDepreciationRate,lengthMowingOperationsTCO,pricing.priceMo36,pricing.priceMo48,pricing.targetPaasMonthlyPrice,totalNGBRCostBare]);useEffect(function(){setGallonsOfFuelConsumedOverPerYear(fuelConsumptionRate*mowingMonthly*customerInputs.lengthMowingSeason*customerInputs.numberNGBRUnits);},[customerInputs.lengthMowingSeason,customerInputs.numberNGBRUnits,fuelConsumptionRate,mowingMonthly]);useEffect(function(){setPoundsOfCO2Avoided(gallonsOfFuelConsumedOverPerYear*enviromentalBenefits.convertingGallonsOfGasolineToCO2);},[enviromentalBenefits.convertingGallonsOfGasolineToCO2,gallonsOfFuelConsumedOverPerYear]);useEffect(function(){setNumberOfMaintenanceJobsPerYear((mowingMonthly*customerInputs.lengthMowingSeason*customerInputs.numberNGBRUnits/averageFrequencyPerZTRServicing).toFixed(4));},[averageFrequencyPerZTRServicing,customerInputs.lengthMowingSeason,customerInputs.numberNGBRUnits,mowingMonthly]);useEffect(function(){setReductionFromNGBRResale({cashPurchase:Math.round(eZTRResalePremiumCashPurchase/savingsWithNGBRCashPurchase),FPP:Math.round(eZTRResalePremiumBareNGBR/savingsWithFPP),financing36:Math.round(eZTRResalePremiumBareNGBR/savingsWith3yearFinancing),financing48:Math.round(eZTRResalePremiumBareNGBR/savingsWith4yearFinancing)});},[eZTRResalePremiumBareNGBR,eZTRResalePremiumCashPurchase,savingsWith3yearFinancing,savingsWith4yearFinancing,savingsWithFPP,savingsWithNGBRCashPurchase]);useEffect(function(){setRequiredEquipment({bateries:paasCal.equipment.requiredEquipment[customerInputs.mowingHours].bateries,chargers:paasCal.equipment.requiredEquipment[customerInputs.mowingHours].chargers,totalBateries:paasCal.equipment.requiredEquipment[customerInputs.mowingHours].bateries*customerInputs.numberNGBRUnits,totalChargers:paasCal.equipment.requiredEquipment[customerInputs.mowingHours].chargers*customerInputs.numberNGBRUnits});},[customerInputs.mowingHours,customerInputs.numberNGBRUnits]);useEffect(function(){var financing;paasCal.financingOptions.forEach(function(financingOption){financing=_objectSpread(_objectSpread({},financing),{},_defineProperty({},\"priceMo\".concat(financingOption.presentValue),Math.round(PMT(financingOption.interestRate/financingOption.totalNumberPayments,financingOption.presentValue,-pricing.totalCashPrice))));});setPricing(_objectSpread({totalCashPrice:requiredEquipment.totalBateries*powerProgramCosts.battery+requiredEquipment.totalChargers*powerProgramCosts.charger,targetPaasMonthlyPrice:Math.round(pricing.priceMo48+(pricing.priceMo48*0.1+1)),annualizedPaaSPrice:Math.round(pricing.targetPaasMonthlyPrice*12),annualRebateOffSeason:lengthOffSeason*pricing.targetPaasMonthlyPrice},financing));},[requiredEquipment,powerProgramCosts.battery,powerProgramCosts.charger,pricing.totalCashPrice,pricing.priceMo48,pricing.targetPaasMonthlyPrice,lengthOffSeason]);useEffect(function(){setLengthMowingOperationsTCO((totalHoursMowedTCOAnalysis/(mowingMonthly*customerInputs.lengthMowingSeason)).toFixed(4));},[customerInputs.lengthMowingSeason,mowingMonthly]);//#endregion\n// STEPS COMFIGURATION:\nvar _useState87=useState(1),_useState88=_slicedToArray(_useState87,2),whichStep=_useState88[0],setWhichStep=_useState88[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[loading===true&&/*#__PURE__*/_jsx(Loading,{loading:loading}),/*#__PURE__*/_jsx(Steps,{whichStep:whichStep,setWhichStep:setWhichStep,customerInputs:customerInputs,setDuoarea:setDuoarea,setCustomerInputs:setCustomerInputs,pricing:pricing,requiredEquipment:requiredEquipment,totalMonthlyPaaSPowerCost:totalMonthlyPaaSPowerCost,totalMonthlyPaaSMaintenanceCost:totalMonthlyPaaSMaintenanceCost,breakeven:breakeven,reductionFromNGBRResale:reductionFromNGBRResale,gasZTR:gasZTR,cashPurchase:cashPurchase,NGBRWithFlexiblePowerProgram:NGBRWithFlexiblePowerProgram,numberOfMaintenanceJobsPerYear:numberOfMaintenanceJobsPerYear,averageTotalTimeForServicing:averageTotalTimeForServicing,monthlyPaaSPowerCostNGBR:monthlyPaaSPowerCostNGBR,monthlyFuelCostPerZTR:monthlyFuelCostPerZTR,monthlyMaintenanceCostPerNGBR:monthlyMaintenanceCostPerNGBR,monthlyMaintenanceCostPerZTR:monthlyMaintenanceCostPerZTR,enviromentalBenefits:enviromentalBenefits,poundsOfCO2Avoided:poundsOfCO2Avoided,editThis:editThis,setEditThis:setEditThis,latestAvgPowerPrice:latestAvgPowerPrice,setLatestAvgPowerPrice:setLatestAvgPowerPrice,latestFuelWeeklyPrice:latestFuelWeeklyPrice,setLatestFuelWeeklyPrice:setLatestFuelWeeklyPrice})]});};export default PaasCalculator;","map":{"version":3,"sources":["/Users/toddheckeler/websites/paas-calculator/src/components/PaasCalculator.js"],"names":["React","useState","useEffect","paasCal","PMT","Loading","Steps","PaasCalculator","loading","setLoading","averageWeeksPerMonth","Number","toFixed","mowingMonthly","setMowingMonthly","lengthOffSeason","setLengthOffSeason","customerInputs","setCustomerInputs","equipment","deault","requiredEquipment","setRequiredEquipment","powerProgramCosts","pricing","NGBRBatteryCapacity","averageHourlyMaintenanceCost","fuelConsumptionRate","electricMaintenanceCostGas","duoarea","setDuoarea","setPricing","monthlyPaaSPowerCostNGBR","setMonthlyPaaSPowerCostNGBR","totalMonthlyPaaSPowerCost","setTotalMonthlyPaaSPowerCost","monthlyMaintenanceCostPerZTR","setMonthlyMaintenanceCostPerZTR","monthlyFuelCostPerZTR","setMonthlyFuelCostPerZTR","monthlyMaintenanceCostPerNGBR","setMonthlyMaintenanceCostPerNGBR","totalMonthlyZTRFuelCost","setTotalMonthlyZTRFuelCost","totalMonthlyZTRMaintenanceCost","setTotalMonthlyZTRMaintenanceCost","depreciationInputs","totalHoursMowedTCOAnalysis","lengthMowingOperationsTCO","setLengthMowingOperationsTCO","totalMonthlyPaaSMaintenanceCost","setTotalMonthlyPaaSMaintenanceCost","NGBROpEx","setNGBROpEx","gasZTROpEx","setGasZTROpEx","totalGasZTRPurchasePrice","setTotalGasZTRPurchasePrice","BareNGBR","totalNGBRCostBare","setTotalNGBRCostBare","costofChargers","setCostofChargers","costofBateries","setCostofBateries","totalNGBRCostWith","setTotalNGBRCostWith","savingsWith4yearFinancing","setSavingsWith4yearFinancing","savingsWith3yearFinancing","setSavingsWith3yearFinancing","savingsWithFPP","setSavingsWithFPP","savingsWithNGBRCashPurchase","setSavingsWithNGBRCashPurchase","breakeven4yearFinancingNoResale","breakeven3yearFinancingNoResale","breakevenFPPNoResale","breakevenOutrightPurchaseNoResale","breakeven","setBreakeven","NGBRResalePriceBareNGBR","setNGBRResalePriceBareNGBR","NGBRResalePriceNGBR","setNGBRResalePriceNGBR","gasZTRResalePrice","setGasZTRResalePrice","eZTRResalePremiumBareNGBR","setEZTRResalePremiumBareNGBR","eZTRResalePremiumCashPurchase","setEZTRResalePremiumCashPurchase","TCOofGasZTR","depreciationofGasZTR","fuel","maintenance","gasZTR","setGasZTR","TCOofNGBR","power","cashPurchase","setCashPurchase","depreciationOfBareNGBR","flexiblePowerProgramSubscription","financingFee36","financingFee48","NGBRWithFlexiblePowerProgram","setNGBRWithFlexiblePowerProgram","enviromentalBenefits","gallonsOfFuelConsumedOverPerYear","setGallonsOfFuelConsumedOverPerYear","poundsOfCO2Avoided","setPoundsOfCO2Avoided","averageFrequencyPerZTRServicing","averageCommuteToFromServicingDealer","averageTimeForServicing","averageTotalTimeForServicing","numberOfMaintenanceJobsPerYear","setNumberOfMaintenanceJobsPerYear","reductionFromNGBRResale","setReductionFromNGBRResale","state","gasZTRPrice","daysMowedPerWeek","numberNGBRUnits","mowingHours","lengthMowingSeason","editThis","setEditThis","latestFuelWeeklyPrice","setLatestFuelWeeklyPrice","latestAvgPowerPrice","setLatestAvgPowerPrice","resetInError","type","fetchLatestPrices","url","fetch","then","response","ok","json","Error","data","value","price","catch","Promise","allSettled","process","env","REACT_APP_EIA_KEY","location","Math","round","bateries","chargers","totalBateries","totalChargers","charger","battery","priceMo48","priceMo36","targetPaasMonthlyPrice","electricZTRDepreciationRate","gasZTRDepreciationRate","convertingGallonsOfGasolineToCO2","FPP","financing36","financing48","financing","financingOptions","forEach","financingOption","presentValue","interestRate","totalNumberPayments","totalCashPrice","annualizedPaaSPrice","annualRebateOffSeason","whichStep","setWhichStep"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport paasCal from \"../data/paas-cal.json\";\nimport PMT from \"../utils/pmt\";\nimport Loading from \"./loading/Loading\";\nimport Steps from \"./steps/Steps\";\n\nimport \"../scss/paas-calculator.scss\";\n\nconst PaasCalculator = () => {\n  //#region PRE-CALCULATIONS\n  const [loading, setLoading] = useState(true);\n  const averageWeeksPerMonth = Number(\n    paasCal.averageWeeksPerMonth / 12\n  ).toFixed(4);\n  const [mowingMonthly, setMowingMonthly] = useState(paasCal.mowingMonthly);\n  const [lengthOffSeason, setLengthOffSeason] = useState(\n    paasCal.lengthOffSeason\n  );\n  const [customerInputs, setCustomerInputs] = useState({\n    ...paasCal.customerInputs,\n  });\n  const [requiredEquipment, setRequiredEquipment] = useState({\n    ...paasCal.equipment.deault,\n  });\n  const powerProgramCosts = { ...paasCal.equipment.pricing };\n  const NGBRBatteryCapacity = paasCal.NGBRBatteryCapacity;\n  const averageHourlyMaintenanceCost = paasCal.averageHourlyMaintenanceCost;\n  const fuelConsumptionRate = paasCal.fuelConsumptionRate;\n  const electricMaintenanceCostGas = paasCal.electricMaintenanceCostGas;\n  const [duoarea, setDuoarea] = useState(paasCal.duoarea);\n  const [pricing, setPricing] = useState({ ...paasCal.pricing });\n  const [monthlyPaaSPowerCostNGBR, setMonthlyPaaSPowerCostNGBR] = useState(\n    paasCal.monthlyPaaSPowerCostNGBR\n  );\n  const [totalMonthlyPaaSPowerCost, setTotalMonthlyPaaSPowerCost] = useState(\n    paasCal.monthlyPaaSPowerCostNGBR\n  );\n  const [monthlyMaintenanceCostPerZTR, setMonthlyMaintenanceCostPerZTR] =\n    useState(0);\n  const [monthlyFuelCostPerZTR, setMonthlyFuelCostPerZTR] = useState(0);\n  const [monthlyMaintenanceCostPerNGBR, setMonthlyMaintenanceCostPerNGBR] =\n    useState(0);\n\n  const [totalMonthlyZTRFuelCost, setTotalMonthlyZTRFuelCost] = useState(0);\n  const [totalMonthlyZTRMaintenanceCost, setTotalMonthlyZTRMaintenanceCost] =\n    useState(0);\n  const depreciationInputs = { ...paasCal.depreciationInputs };\n  const totalHoursMowedTCOAnalysis = 3000;\n  const [lengthMowingOperationsTCO, setLengthMowingOperationsTCO] =\n    useState(1.978);\n  // const paaSPremiumOverFourYearFinancing =\n  //   paasCal.paaSPremiumOverFourYearFinancing;\n  const [totalMonthlyPaaSMaintenanceCost, setTotalMonthlyPaaSMaintenanceCost] =\n    useState(0);\n  const [NGBROpEx, setNGBROpEx] = useState(0);\n  const [gasZTROpEx, setGasZTROpEx] = useState(0);\n  const [totalGasZTRPurchasePrice, setTotalGasZTRPurchasePrice] = useState(0);\n  const BareNGBR = paasCal.BareNGBR;\n  const [totalNGBRCostBare, setTotalNGBRCostBare] = useState(0);\n  const [costofChargers, setCostofChargers] = useState(0);\n  const [costofBateries, setCostofBateries] = useState(0);\n  const [totalNGBRCostWith, setTotalNGBRCostWith] = useState(0);\n  const [savingsWith4yearFinancing, setSavingsWith4yearFinancing] = useState(0);\n  const [savingsWith3yearFinancing, setSavingsWith3yearFinancing] = useState(0);\n  const [savingsWithFPP, setSavingsWithFPP] = useState(0);\n  const [savingsWithNGBRCashPurchase, setSavingsWithNGBRCashPurchase] =\n    useState(0);\n  const [breakeven, setBreakeven] = useState({\n    breakeven4yearFinancingNoResale: 0,\n    breakeven3yearFinancingNoResale: 0,\n    breakevenFPPNoResale: 0,\n    breakevenOutrightPurchaseNoResale: 0,\n  });\n  const [NGBRResalePriceBareNGBR, setNGBRResalePriceBareNGBR] = useState(0);\n  const [NGBRResalePriceNGBR, setNGBRResalePriceNGBR] = useState(0);\n  const [gasZTRResalePrice, setGasZTRResalePrice] = useState(0);\n  const [eZTRResalePremiumBareNGBR, setEZTRResalePremiumBareNGBR] = useState(0);\n  const [eZTRResalePremiumCashPurchase, setEZTRResalePremiumCashPurchase] =\n    useState(0);\n  const [gasZTR, setGasZTR] = useState({\n    TCOofGasZTR: 0,\n    depreciationofGasZTR: 0,\n    fuel: 0,\n    maintenance: 0,\n  });\n  const [cashPurchase, setCashPurchase] = useState({\n    TCOofNGBR: 0,\n    depreciationofGasZTR: 0,\n    power: 0,\n    maintenance: 0,\n  });\n  const [NGBRWithFlexiblePowerProgram, setNGBRWithFlexiblePowerProgram] =\n    useState({\n      depreciationOfBareNGBR: 0,\n      flexiblePowerProgramSubscription: 0,\n      financingFee36: 0,\n      financingFee48: 0,\n    });\n  const enviromentalBenefits = { ...paasCal.enviromentalBenefits };\n  const [\n    gallonsOfFuelConsumedOverPerYear,\n    setGallonsOfFuelConsumedOverPerYear,\n  ] = useState(paasCal.gallonsOfFuelConsumedOverPerYear);\n  const [poundsOfCO2Avoided, setPoundsOfCO2Avoided] = useState(\n    paasCal.poundsOfCO2Avoided\n  );\n  const averageFrequencyPerZTRServicing =\n    paasCal.averageFrequencyPerZTRServicing;\n  const averageCommuteToFromServicingDealer =\n    paasCal.averageCommuteToFromServicingDealer;\n  const averageTimeForServicing = paasCal.averageTimeForServicing;\n  const averageTotalTimeForServicing =\n    averageTimeForServicing + averageCommuteToFromServicingDealer;\n  const [numberOfMaintenanceJobsPerYear, setNumberOfMaintenanceJobsPerYear] =\n    useState(paasCal.numberOfMaintenanceJobsPerYear);\n  const [reductionFromNGBRResale, setReductionFromNGBRResale] = useState({\n    ...paasCal.reductionFromNGBRResale,\n  });\n\n  const [editThis, setEditThis] = useState({\n    state: false,\n    gasZTRPrice: false,\n    daysMowedPerWeek: false,\n    numberNGBRUnits: false,\n    mowingHours: false,\n    lengthMowingSeason: false,\n  });\n  //#endregion PRE-CALCULATIONS\n\n  //#region useEffects\n  //const [checkObserve, setCheckObserve] = useState(false);\n  // OBSERVER:\n  // useEffect(() => {\n  //   const observer = new IntersectionObserver(\n  //     ([entry]) => {\n  //       if (entry.isIntersecting) {\n  //         setCheckObserve(true);\n  //         //console.log(\"in view\");\n  //       } else {\n  //         setCheckObserve(false);\n  //         document.querySelectorAll(\".tip\").forEach((tip) => {\n  //           tip.classList.remove(\"active\");\n  //         });\n  //       }\n  //     },\n  //     {\n  //       root: null,\n  //       //threshold: 0.7,\n  //     }\n  //   );\n  //   observer.observe(document.querySelector(\"#inputs\"));\n  // }, [checkObserve]);\n\n  const [latestFuelWeeklyPrice, setLatestFuelWeeklyPrice] = useState(\n    paasCal.latestFuelWeeklyPrice\n  );\n  const [latestAvgPowerPrice, setLatestAvgPowerPrice] = useState(\n    paasCal.latestAvgPowerPrice\n  );\n\n  useEffect(() => {\n    const resetInError = (type) => {\n      if (type === \"petroleum\") {\n        setLatestFuelWeeklyPrice(paasCal.latestFuelWeeklyPrice);\n      } else {\n        setLatestAvgPowerPrice(paasCal.latestAvgPowerPrice);\n      }\n    };\n\n    const fetchLatestPrices = async (url, type) => {\n      setLoading(true);\n      await fetch(url)\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          } else {\n            resetInError(type);\n            throw new Error(\"Something went wrong\");\n          }\n        })\n        .then((data) => {\n          if (type === \"petroleum\") {\n            setLatestFuelWeeklyPrice(data.response.data[0].value);\n          } else {\n            setLatestAvgPowerPrice(data.response.data[0].price / 100);\n          }\n        })\n        .catch(() => {\n          resetInError(type);\n        });\n    };\n\n    Promise.allSettled([\n      fetchLatestPrices(\n        `https://api.eia.gov/v2/petroleum/pri/gnd/data/?frequency=weekly&data[0]=value&facets[product][]=EPMRU&facets[duoarea][]=${duoarea}&sort[0][column]=period&sort[0][direction]=desc&length=1&api_key=${process.env.REACT_APP_EIA_KEY}`,\n        \"petroleum\"\n      ),\n\n      fetchLatestPrices(\n        `https://api.eia.gov/v2/electricity/retail-sales/data/?frequency=monthly&data[0]=price&facets[sectorid][]=RES&facets[stateid][]=${customerInputs.location}&sort[0][column]=period&sort[0][direction]=desc&length=1&api_key=${process.env.REACT_APP_EIA_KEY}`,\n        \"electricity\"\n      ),\n    ]).then(() => {\n      setLoading(false);\n    });\n  }, [customerInputs.location, duoarea]);\n\n  useEffect(() => {\n    setMowingMonthly(\n      (\n        customerInputs.mowingHours *\n        customerInputs.daysMowedPerWeek *\n        averageWeeksPerMonth\n      ).toFixed(4)\n    );\n  }, [\n    averageWeeksPerMonth,\n    customerInputs.daysMowedPerWeek,\n    customerInputs.mowingHours,\n  ]);\n\n  useEffect(() => {\n    setLengthOffSeason(12 - customerInputs.lengthMowingSeason);\n  }, [customerInputs.lengthMowingSeason]);\n\n  useEffect(() => {\n    setMonthlyPaaSPowerCostNGBR(\n      Math.round(latestAvgPowerPrice * NGBRBatteryCapacity * mowingMonthly)\n    );\n  }, [NGBRBatteryCapacity, latestAvgPowerPrice, mowingMonthly]);\n\n  useEffect(() => {\n    setTotalMonthlyPaaSPowerCost(\n      monthlyPaaSPowerCostNGBR * customerInputs.numberNGBRUnits\n    );\n  }, [customerInputs.numberNGBRUnits, monthlyPaaSPowerCostNGBR]);\n\n  useEffect(() => {\n    setRequiredEquipment({\n      bateries: paasCal.equipment.deault.bateries,\n      chargers: paasCal.equipment.deault.chargers,\n      totalBateries:\n        paasCal.equipment.deault.bateries * customerInputs.numberNGBRUnits,\n      totalChargers:\n        paasCal.equipment.deault.chargers * customerInputs.numberNGBRUnits,\n    });\n  }, [customerInputs.numberNGBRUnits]);\n\n  useEffect(() => {\n    setMonthlyMaintenanceCostPerZTR(\n      Math.round(averageHourlyMaintenanceCost * mowingMonthly)\n    );\n  }, [averageHourlyMaintenanceCost, mowingMonthly]);\n\n  useEffect(() => {\n    setMonthlyFuelCostPerZTR(\n      Math.round(latestFuelWeeklyPrice * fuelConsumptionRate * mowingMonthly)\n    );\n  }, [fuelConsumptionRate, latestFuelWeeklyPrice, mowingMonthly]);\n\n  useEffect(() => {\n    setMonthlyMaintenanceCostPerNGBR(\n      Math.round(monthlyMaintenanceCostPerZTR * electricMaintenanceCostGas)\n    );\n  }, [electricMaintenanceCostGas, monthlyMaintenanceCostPerZTR]);\n\n  useEffect(() => {\n    setTotalMonthlyPaaSMaintenanceCost(\n      monthlyMaintenanceCostPerNGBR * customerInputs.numberNGBRUnits\n    );\n  }, [customerInputs.numberNGBRUnits, monthlyMaintenanceCostPerNGBR]);\n\n  useEffect(() => {\n    setNGBROpEx(totalMonthlyPaaSPowerCost + totalMonthlyPaaSMaintenanceCost);\n  }, [totalMonthlyPaaSMaintenanceCost, totalMonthlyPaaSPowerCost]);\n\n  useEffect(() => {\n    setTotalMonthlyZTRFuelCost(\n      monthlyFuelCostPerZTR * customerInputs.numberNGBRUnits\n    );\n  }, [customerInputs.numberNGBRUnits, monthlyFuelCostPerZTR]);\n\n  useEffect(() => {\n    setTotalMonthlyZTRMaintenanceCost(\n      monthlyMaintenanceCostPerZTR * customerInputs.numberNGBRUnits\n    );\n  }, [customerInputs.numberNGBRUnits, monthlyMaintenanceCostPerZTR]);\n\n  useEffect(() => {\n    setGasZTROpEx(totalMonthlyZTRFuelCost + totalMonthlyZTRMaintenanceCost);\n  }, [totalMonthlyZTRFuelCost, totalMonthlyZTRMaintenanceCost]);\n\n  useEffect(() => {\n    setTotalGasZTRPurchasePrice(\n      customerInputs.gasZTRPrice * customerInputs.numberNGBRUnits\n    );\n  }, [customerInputs.gasZTRPrice, customerInputs.numberNGBRUnits]);\n\n  useEffect(() => {\n    setTotalNGBRCostBare(BareNGBR * customerInputs.numberNGBRUnits);\n  }, [BareNGBR, customerInputs.numberNGBRUnits]);\n\n  useEffect(() => {\n    setCostofChargers(\n      powerProgramCosts.charger * requiredEquipment.totalChargers\n    );\n  }, [powerProgramCosts.charger, requiredEquipment.totalChargers]);\n\n  useEffect(() => {\n    setCostofBateries(\n      powerProgramCosts.battery * requiredEquipment.totalBateries\n    );\n  }, [powerProgramCosts.battery, requiredEquipment.totalBateries]);\n\n  useEffect(() => {\n    setTotalNGBRCostWith(costofBateries + costofChargers + totalNGBRCostBare);\n  }, [costofBateries, costofChargers, totalNGBRCostBare]);\n\n  useEffect(() => {\n    setSavingsWith4yearFinancing(gasZTROpEx - (NGBROpEx + pricing.priceMo48));\n  }, [NGBROpEx, gasZTROpEx, pricing.priceMo48]);\n\n  useEffect(() => {\n    setSavingsWith3yearFinancing(gasZTROpEx - (NGBROpEx + pricing.priceMo36));\n  }, [NGBROpEx, gasZTROpEx, pricing.priceMo36]);\n\n  useEffect(() => {\n    setSavingsWithFPP(gasZTROpEx - (NGBROpEx + pricing.targetPaasMonthlyPrice));\n  }, [NGBROpEx, gasZTROpEx, pricing.targetPaasMonthlyPrice]);\n\n  useEffect(() => {\n    setSavingsWithNGBRCashPurchase(gasZTROpEx - NGBROpEx);\n  }, [NGBROpEx, gasZTROpEx]);\n\n  useEffect(() => {\n    setBreakeven({\n      breakevenOutrightPurchaseNoResale: (\n        (totalNGBRCostWith - totalGasZTRPurchasePrice) /\n        savingsWithNGBRCashPurchase\n      ).toFixed(4),\n      breakevenFPPNoResale: (\n        (totalNGBRCostBare - totalGasZTRPurchasePrice) /\n        savingsWithFPP\n      ).toFixed(4),\n      breakeven3yearFinancingNoResale: (\n        (totalNGBRCostBare - totalGasZTRPurchasePrice) /\n        savingsWith3yearFinancing\n      ).toFixed(4),\n      breakeven4yearFinancingNoResale: (\n        (totalNGBRCostBare - totalGasZTRPurchasePrice) /\n        savingsWith4yearFinancing\n      ).toFixed(4),\n    });\n  }, [\n    savingsWith3yearFinancing,\n    savingsWith4yearFinancing,\n    savingsWithFPP,\n    savingsWithNGBRCashPurchase,\n    totalGasZTRPurchasePrice,\n    totalNGBRCostBare,\n    totalNGBRCostWith,\n  ]);\n\n  useEffect(() => {\n    setNGBRResalePriceBareNGBR(\n      (\n        totalNGBRCostBare *\n        (1 - depreciationInputs.electricZTRDepreciationRate)\n      ).toFixed(4)\n    );\n  }, [depreciationInputs.electricZTRDepreciationRate, totalNGBRCostBare]);\n\n  useEffect(() => {\n    setNGBRResalePriceNGBR(\n      (\n        totalNGBRCostWith *\n        (1 - depreciationInputs.electricZTRDepreciationRate)\n      ).toFixed(4)\n    );\n  }, [depreciationInputs.electricZTRDepreciationRate, totalNGBRCostWith]);\n\n  useEffect(() => {\n    setGasZTRResalePrice(\n      (\n        totalGasZTRPurchasePrice *\n        (1 - depreciationInputs.gasZTRDepreciationRate)\n      ).toFixed(4)\n    );\n  }, [depreciationInputs.gasZTRDepreciationRate, totalGasZTRPurchasePrice]);\n\n  useEffect(() => {\n    setEZTRResalePremiumBareNGBR(NGBRResalePriceBareNGBR - gasZTRResalePrice);\n  }, [NGBRResalePriceBareNGBR, gasZTRResalePrice]);\n\n  useEffect(() => {\n    setEZTRResalePremiumCashPurchase(\n      NGBRResalePriceNGBR - eZTRResalePremiumBareNGBR\n    );\n  }, [NGBRResalePriceNGBR, eZTRResalePremiumBareNGBR]);\n\n  useEffect(() => {\n    setGasZTR({\n      TCOofGasZTR:\n        gasZTR.depreciationofGasZTR + gasZTR.fuel + gasZTR.maintenance,\n      depreciationofGasZTR:\n        customerInputs.gasZTRPrice *\n        depreciationInputs.gasZTRDepreciationRate *\n        customerInputs.numberNGBRUnits,\n      fuel:\n        totalMonthlyZTRFuelCost *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n      maintenance:\n        totalMonthlyZTRMaintenanceCost *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n    });\n  }, [\n    customerInputs.gasZTRPrice,\n    customerInputs.lengthMowingSeason,\n    customerInputs.numberNGBRUnits,\n    depreciationInputs.gasZTRDepreciationRate,\n    gasZTR.depreciationofGasZTR,\n    gasZTR.fuel,\n    gasZTR.maintenance,\n    lengthMowingOperationsTCO,\n    totalMonthlyZTRFuelCost,\n    totalMonthlyZTRMaintenanceCost,\n  ]);\n\n  useEffect(() => {\n    setCashPurchase({\n      TCOofNGBR:\n        cashPurchase.depreciationofGasZTR +\n        cashPurchase.power +\n        cashPurchase.maintenance,\n      depreciationofGasZTR:\n        totalNGBRCostWith * depreciationInputs.electricZTRDepreciationRate,\n      power:\n        totalMonthlyPaaSPowerCost *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n      maintenance:\n        totalMonthlyPaaSMaintenanceCost *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n    });\n  }, [\n    cashPurchase.depreciationofGasZTR,\n    cashPurchase.maintenance,\n    cashPurchase.power,\n    customerInputs.lengthMowingSeason,\n    depreciationInputs.electricZTRDepreciationRate,\n    lengthMowingOperationsTCO,\n    totalMonthlyPaaSMaintenanceCost,\n    totalMonthlyPaaSPowerCost,\n    totalNGBRCostWith,\n  ]);\n\n  useEffect(() => {\n    setNGBRWithFlexiblePowerProgram({\n      depreciationOfBareNGBR:\n        totalNGBRCostBare * depreciationInputs.electricZTRDepreciationRate,\n      flexiblePowerProgramSubscription:\n        pricing.targetPaasMonthlyPrice *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n      financingFee36:\n        pricing.priceMo36 *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n      financingFee48:\n        pricing.priceMo48 *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n    });\n  }, [\n    customerInputs.lengthMowingSeason,\n    depreciationInputs.electricZTRDepreciationRate,\n    lengthMowingOperationsTCO,\n    pricing.priceMo36,\n    pricing.priceMo48,\n    pricing.targetPaasMonthlyPrice,\n    totalNGBRCostBare,\n  ]);\n\n  useEffect(() => {\n    setGallonsOfFuelConsumedOverPerYear(\n      fuelConsumptionRate *\n        mowingMonthly *\n        customerInputs.lengthMowingSeason *\n        customerInputs.numberNGBRUnits\n    );\n  }, [\n    customerInputs.lengthMowingSeason,\n    customerInputs.numberNGBRUnits,\n    fuelConsumptionRate,\n    mowingMonthly,\n  ]);\n\n  useEffect(() => {\n    setPoundsOfCO2Avoided(\n      gallonsOfFuelConsumedOverPerYear *\n        enviromentalBenefits.convertingGallonsOfGasolineToCO2\n    );\n  }, [\n    enviromentalBenefits.convertingGallonsOfGasolineToCO2,\n    gallonsOfFuelConsumedOverPerYear,\n  ]);\n\n  useEffect(() => {\n    setNumberOfMaintenanceJobsPerYear(\n      (\n        (mowingMonthly *\n          customerInputs.lengthMowingSeason *\n          customerInputs.numberNGBRUnits) /\n        averageFrequencyPerZTRServicing\n      ).toFixed(4)\n    );\n  }, [\n    averageFrequencyPerZTRServicing,\n    customerInputs.lengthMowingSeason,\n    customerInputs.numberNGBRUnits,\n    mowingMonthly,\n  ]);\n\n  useEffect(() => {\n    setReductionFromNGBRResale({\n      cashPurchase: Math.round(\n        eZTRResalePremiumCashPurchase / savingsWithNGBRCashPurchase\n      ),\n      FPP: Math.round(eZTRResalePremiumBareNGBR / savingsWithFPP),\n      financing36: Math.round(\n        eZTRResalePremiumBareNGBR / savingsWith3yearFinancing\n      ),\n      financing48: Math.round(\n        eZTRResalePremiumBareNGBR / savingsWith4yearFinancing\n      ),\n    });\n  }, [\n    eZTRResalePremiumBareNGBR,\n    eZTRResalePremiumCashPurchase,\n    savingsWith3yearFinancing,\n    savingsWith4yearFinancing,\n    savingsWithFPP,\n    savingsWithNGBRCashPurchase,\n  ]);\n\n  useEffect(() => {\n    setRequiredEquipment({\n      bateries:\n        paasCal.equipment.requiredEquipment[customerInputs.mowingHours]\n          .bateries,\n      chargers:\n        paasCal.equipment.requiredEquipment[customerInputs.mowingHours]\n          .chargers,\n      totalBateries:\n        paasCal.equipment.requiredEquipment[customerInputs.mowingHours]\n          .bateries * customerInputs.numberNGBRUnits,\n      totalChargers:\n        paasCal.equipment.requiredEquipment[customerInputs.mowingHours]\n          .chargers * customerInputs.numberNGBRUnits,\n    });\n  }, [customerInputs.mowingHours, customerInputs.numberNGBRUnits]);\n\n  useEffect(() => {\n    let financing;\n    paasCal.financingOptions.forEach((financingOption) => {\n      financing = {\n        ...financing,\n        [`priceMo${financingOption.presentValue}`]: Math.round(\n          PMT(\n            financingOption.interestRate / financingOption.totalNumberPayments,\n            financingOption.presentValue,\n            -pricing.totalCashPrice\n          )\n        ),\n      };\n    });\n\n    setPricing({\n      totalCashPrice:\n        requiredEquipment.totalBateries * powerProgramCosts.battery +\n        requiredEquipment.totalChargers * powerProgramCosts.charger,\n      targetPaasMonthlyPrice: Math.round(\n        pricing.priceMo48 + (pricing.priceMo48 * 0.1 + 1)\n      ),\n      annualizedPaaSPrice: Math.round(pricing.targetPaasMonthlyPrice * 12),\n      annualRebateOffSeason: lengthOffSeason * pricing.targetPaasMonthlyPrice,\n      ...financing,\n    });\n  }, [\n    requiredEquipment,\n    powerProgramCosts.battery,\n    powerProgramCosts.charger,\n    pricing.totalCashPrice,\n    pricing.priceMo48,\n    pricing.targetPaasMonthlyPrice,\n    lengthOffSeason,\n  ]);\n\n  useEffect(() => {\n    setLengthMowingOperationsTCO(\n      (\n        totalHoursMowedTCOAnalysis /\n        (mowingMonthly * customerInputs.lengthMowingSeason)\n      ).toFixed(4)\n    );\n  }, [customerInputs.lengthMowingSeason, mowingMonthly]);\n  //#endregion\n\n  // STEPS COMFIGURATION:\n  const [whichStep, setWhichStep] = useState(1);\n\n  return (\n    <>\n      {loading === true && <Loading {...{ loading }} />}\n      <Steps\n        {...{\n          whichStep,\n          setWhichStep,\n          customerInputs,\n          setDuoarea,\n          setCustomerInputs,\n          pricing,\n          requiredEquipment,\n          totalMonthlyPaaSPowerCost,\n          totalMonthlyPaaSMaintenanceCost,\n          breakeven,\n          reductionFromNGBRResale,\n          gasZTR,\n          cashPurchase,\n          NGBRWithFlexiblePowerProgram,\n          numberOfMaintenanceJobsPerYear,\n          averageTotalTimeForServicing,\n          monthlyPaaSPowerCostNGBR,\n          monthlyFuelCostPerZTR,\n          monthlyMaintenanceCostPerNGBR,\n          monthlyMaintenanceCostPerZTR,\n          enviromentalBenefits,\n          poundsOfCO2Avoided,\n          editThis,\n          setEditThis,\n          latestAvgPowerPrice,\n          setLatestAvgPowerPrice,\n          latestFuelWeeklyPrice,\n          setLatestFuelWeeklyPrice,\n        }}\n      />\n    </>\n  );\n};\n\nexport default PaasCalculator;\n"]},"metadata":{},"sourceType":"module"}