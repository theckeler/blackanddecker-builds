{"ast":null,"code":"import _defineProperty from\"/Users/toddheckeler/websites/paas-calculator/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"/Users/toddheckeler/websites/paas-calculator/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/toddheckeler/websites/paas-calculator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/toddheckeler/websites/paas-calculator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/toddheckeler/websites/paas-calculator/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import paasCal from\"../data/paas-cal.json\";import PMT from\"../utils/pmt\";import Loading from\"./loading/Loading\";import Steps from\"./steps/Steps\";import Password from\"./password/Password\";import getCookies from\"../utils/getCookies\";import\"../scss/paas-calculator.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PaasCalculator=function PaasCalculator(){//#region PRE-CALCULATIONS\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),geolocated=_useState4[0],setGeolocated=_useState4[1];var averageWeeksPerMonth=Number(paasCal.averageWeeksPerMonth/12).toFixed(4);var _useState5=useState(paasCal.mowingMonthly),_useState6=_slicedToArray(_useState5,2),mowingMonthly=_useState6[0],setMowingMonthly=_useState6[1];var _useState7=useState(paasCal.lengthOffSeason),_useState8=_slicedToArray(_useState7,2),lengthOffSeason=_useState8[0],setLengthOffSeason=_useState8[1];var _useState9=useState(_objectSpread({},paasCal.customerInputs)),_useState10=_slicedToArray(_useState9,2),customerInputs=_useState10[0],setCustomerInputs=_useState10[1];var _useState11=useState(_objectSpread({},paasCal.equipment.deault)),_useState12=_slicedToArray(_useState11,2),requiredEquipment=_useState12[0],setRequiredEquipment=_useState12[1];var powerProgramCosts=_objectSpread({},paasCal.equipment.pricing);var NGBRBatteryCapacity=paasCal.NGBRBatteryCapacity;var averageHourlyMaintenanceCost=paasCal.averageHourlyMaintenanceCost;var fuelConsumptionRate=paasCal.fuelConsumptionRate;var electricMaintenanceCostGas=paasCal.electricMaintenanceCostGas;var _useState13=useState(paasCal.duoarea),_useState14=_slicedToArray(_useState13,2),duoarea=_useState14[0],setDuoarea=_useState14[1];var _useState15=useState(_objectSpread({},paasCal.pricing)),_useState16=_slicedToArray(_useState15,2),pricing=_useState16[0],setPricing=_useState16[1];var _useState17=useState(paasCal.monthlyPaaSPowerCostNGBR),_useState18=_slicedToArray(_useState17,2),monthlyPaaSPowerCostNGBR=_useState18[0],setMonthlyPaaSPowerCostNGBR=_useState18[1];var _useState19=useState(paasCal.monthlyPaaSPowerCostNGBR),_useState20=_slicedToArray(_useState19,2),totalMonthlyPaaSPowerCost=_useState20[0],setTotalMonthlyPaaSPowerCost=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),monthlyMaintenanceCostPerZTR=_useState22[0],setMonthlyMaintenanceCostPerZTR=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),monthlyFuelCostPerZTR=_useState24[0],setMonthlyFuelCostPerZTR=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),monthlyMaintenanceCostPerNGBR=_useState26[0],setMonthlyMaintenanceCostPerNGBR=_useState26[1];var _useState27=useState(0),_useState28=_slicedToArray(_useState27,2),totalMonthlyZTRFuelCost=_useState28[0],setTotalMonthlyZTRFuelCost=_useState28[1];var _useState29=useState(0),_useState30=_slicedToArray(_useState29,2),totalMonthlyZTRMaintenanceCost=_useState30[0],setTotalMonthlyZTRMaintenanceCost=_useState30[1];var depreciationInputs=_objectSpread({},paasCal.depreciationInputs);var totalHoursMowedTCOAnalysis=3000;var _useState31=useState(1.978),_useState32=_slicedToArray(_useState31,2),lengthMowingOperationsTCO=_useState32[0],setLengthMowingOperationsTCO=_useState32[1];// const paaSPremiumOverFourYearFinancing =\n//   paasCal.paaSPremiumOverFourYearFinancing;\nvar _useState33=useState(0),_useState34=_slicedToArray(_useState33,2),totalMonthlyPaaSMaintenanceCost=_useState34[0],setTotalMonthlyPaaSMaintenanceCost=_useState34[1];var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),NGBROpEx=_useState36[0],setNGBROpEx=_useState36[1];var _useState37=useState(0),_useState38=_slicedToArray(_useState37,2),gasZTROpEx=_useState38[0],setGasZTROpEx=_useState38[1];var _useState39=useState(0),_useState40=_slicedToArray(_useState39,2),totalGasZTRPurchasePrice=_useState40[0],setTotalGasZTRPurchasePrice=_useState40[1];var BareNGBR=paasCal.BareNGBR;var _useState41=useState(0),_useState42=_slicedToArray(_useState41,2),totalNGBRCostBare=_useState42[0],setTotalNGBRCostBare=_useState42[1];var _useState43=useState(0),_useState44=_slicedToArray(_useState43,2),costofChargers=_useState44[0],setCostofChargers=_useState44[1];var _useState45=useState(0),_useState46=_slicedToArray(_useState45,2),costofBateries=_useState46[0],setCostofBateries=_useState46[1];var _useState47=useState(0),_useState48=_slicedToArray(_useState47,2),totalNGBRCostWith=_useState48[0],setTotalNGBRCostWith=_useState48[1];var _useState49=useState(0),_useState50=_slicedToArray(_useState49,2),savingsWith4yearFinancing=_useState50[0],setSavingsWith4yearFinancing=_useState50[1];var _useState51=useState(0),_useState52=_slicedToArray(_useState51,2),savingsWith3yearFinancing=_useState52[0],setSavingsWith3yearFinancing=_useState52[1];var _useState53=useState(0),_useState54=_slicedToArray(_useState53,2),savingsWithFPP=_useState54[0],setSavingsWithFPP=_useState54[1];var _useState55=useState(0),_useState56=_slicedToArray(_useState55,2),savingsWithNGBRCashPurchase=_useState56[0],setSavingsWithNGBRCashPurchase=_useState56[1];var _useState57=useState({breakeven4yearFinancingNoResale:0,breakeven3yearFinancingNoResale:0,breakevenFPPNoResale:0,breakevenOutrightPurchaseNoResale:0}),_useState58=_slicedToArray(_useState57,2),breakeven=_useState58[0],setBreakeven=_useState58[1];var _useState59=useState(0),_useState60=_slicedToArray(_useState59,2),NGBRResalePriceBareNGBR=_useState60[0],setNGBRResalePriceBareNGBR=_useState60[1];var _useState61=useState(0),_useState62=_slicedToArray(_useState61,2),NGBRResalePriceNGBR=_useState62[0],setNGBRResalePriceNGBR=_useState62[1];var _useState63=useState(0),_useState64=_slicedToArray(_useState63,2),gasZTRResalePrice=_useState64[0],setGasZTRResalePrice=_useState64[1];var _useState65=useState(0),_useState66=_slicedToArray(_useState65,2),eZTRResalePremiumBareNGBR=_useState66[0],setEZTRResalePremiumBareNGBR=_useState66[1];var _useState67=useState(0),_useState68=_slicedToArray(_useState67,2),eZTRResalePremiumCashPurchase=_useState68[0],setEZTRResalePremiumCashPurchase=_useState68[1];var _useState69=useState({TCOofGasZTR:0,depreciationofGasZTR:0,fuel:0,maintenance:0}),_useState70=_slicedToArray(_useState69,2),gasZTR=_useState70[0],setGasZTR=_useState70[1];var _useState71=useState({TCOofNGBR:0,depreciationofGasZTR:0,power:0,maintenance:0}),_useState72=_slicedToArray(_useState71,2),cashPurchase=_useState72[0],setCashPurchase=_useState72[1];var _useState73=useState({depreciationOfBareNGBR:0,flexiblePowerProgramSubscription:0,financingFee36:0,financingFee48:0}),_useState74=_slicedToArray(_useState73,2),NGBRWithFlexiblePowerProgram=_useState74[0],setNGBRWithFlexiblePowerProgram=_useState74[1];var enviromentalBenefits=_objectSpread({},paasCal.enviromentalBenefits);var _useState75=useState(paasCal.gallonsOfFuelConsumedOverPerYear),_useState76=_slicedToArray(_useState75,2),gallonsOfFuelConsumedOverPerYear=_useState76[0],setGallonsOfFuelConsumedOverPerYear=_useState76[1];var _useState77=useState(paasCal.poundsOfCO2Avoided),_useState78=_slicedToArray(_useState77,2),poundsOfCO2Avoided=_useState78[0],setPoundsOfCO2Avoided=_useState78[1];var averageFrequencyPerZTRServicing=paasCal.averageFrequencyPerZTRServicing;var averageCommuteToFromServicingDealer=paasCal.averageCommuteToFromServicingDealer;var averageTimeForServicing=paasCal.averageTimeForServicing;var averageTotalTimeForServicing=averageTimeForServicing+averageCommuteToFromServicingDealer;var _useState79=useState(paasCal.numberOfMaintenanceJobsPerYear),_useState80=_slicedToArray(_useState79,2),numberOfMaintenanceJobsPerYear=_useState80[0],setNumberOfMaintenanceJobsPerYear=_useState80[1];var _useState81=useState(_objectSpread({},paasCal.reductionFromNGBRResale)),_useState82=_slicedToArray(_useState81,2),reductionFromNGBRResale=_useState82[0],setReductionFromNGBRResale=_useState82[1];var _useState83=useState({state:false,gasZTRPrice:false,daysMowedPerWeek:false,numberNGBRUnits:false,mowingHours:false,lengthMowingSeason:false}),_useState84=_slicedToArray(_useState83,2),editThis=_useState84[0],setEditThis=_useState84[1];//#endregion PRE-CALCULATIONS\n//#region useEffects\nuseEffect(function(){if(!geolocated){window.navigator.geolocation.getCurrentPosition(function(loc){var _loc$coords=loc.coords,latitude=_loc$coords.latitude,longitude=_loc$coords.longitude;fetch(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\".concat(latitude,\",\").concat(longitude,\"&result_type=locality&key=\").concat(process.env.REACT_APP_GEOCODING_API_KEY)).then(function(response){return response.json();}).then(function(pos){if(pos.results.length>0){pos.results[0].address_components.forEach(function(component){if(component.short_name===\"US\"){setCustomerInputs(_objectSpread(_objectSpread({},customerInputs),{},{location:pos.results[0].address_components[2].short_name}));}});}else{console.error(\"Error fetching data\");}}).catch(function(error){console.error(error);});//console.log(\"located\");\nsetGeolocated(true);},function(error){setGeolocated(true);console.error(\"Unable to retrieve your location\",error);});}});var _useState85=useState(paasCal.latestFuelWeeklyPrice),_useState86=_slicedToArray(_useState85,2),latestFuelWeeklyPrice=_useState86[0],setLatestFuelWeeklyPrice=_useState86[1];var _useState87=useState(paasCal.latestAvgPowerPrice),_useState88=_slicedToArray(_useState87,2),latestAvgPowerPrice=_useState88[0],setLatestAvgPowerPrice=_useState88[1];useEffect(function(){var resetInError=function resetInError(type){if(type===\"petroleum\"){setLatestFuelWeeklyPrice(paasCal.latestFuelWeeklyPrice);}else{setLatestAvgPowerPrice(paasCal.latestAvgPowerPrice);}};var fetchLatestPrices=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url,type){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch(url).then(function(response){if(response.ok){return response.json();}else{resetInError(type);throw new Error(\"Something went wrong\");}}).then(function(data){if(type===\"petroleum\"){setLatestFuelWeeklyPrice(data.response.data[0].value);}else{setLatestAvgPowerPrice(data.response.data[0].price/100);}}).catch(function(){resetInError(type);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function fetchLatestPrices(_x,_x2){return _ref.apply(this,arguments);};}();Promise.allSettled([fetchLatestPrices(\"https://api.eia.gov/v2/petroleum/pri/gnd/data/?frequency=weekly&data[0]=value&facets[product][]=EPMRU&facets[duoarea][]=\".concat(duoarea,\"&sort[0][column]=period&sort[0][direction]=desc&length=1&api_key=\").concat(process.env.REACT_APP_EIA_KEY),\"petroleum\"),fetchLatestPrices(\"https://api.eia.gov/v2/electricity/retail-sales/data/?frequency=monthly&data[0]=price&facets[sectorid][]=RES&facets[stateid][]=\".concat(customerInputs.location,\"&sort[0][column]=period&sort[0][direction]=desc&length=1&api_key=\").concat(process.env.REACT_APP_EIA_KEY),\"electricity\")]).then(function(){setLoading(false);});},[customerInputs.location,duoarea]);useEffect(function(){setMowingMonthly((customerInputs.mowingHours*customerInputs.daysMowedPerWeek*averageWeeksPerMonth).toFixed(4));},[averageWeeksPerMonth,customerInputs.daysMowedPerWeek,customerInputs.mowingHours]);useEffect(function(){setLengthOffSeason(12-customerInputs.lengthMowingSeason);},[customerInputs.lengthMowingSeason]);useEffect(function(){setMonthlyPaaSPowerCostNGBR(Math.round(latestAvgPowerPrice*NGBRBatteryCapacity*mowingMonthly));},[NGBRBatteryCapacity,latestAvgPowerPrice,mowingMonthly]);useEffect(function(){setTotalMonthlyPaaSPowerCost(monthlyPaaSPowerCostNGBR*customerInputs.numberNGBRUnits);},[customerInputs.numberNGBRUnits,monthlyPaaSPowerCostNGBR]);useEffect(function(){setRequiredEquipment({bateries:paasCal.equipment.deault.bateries,chargers:paasCal.equipment.deault.chargers,totalBateries:paasCal.equipment.deault.bateries*customerInputs.numberNGBRUnits,totalChargers:paasCal.equipment.deault.chargers*customerInputs.numberNGBRUnits});},[customerInputs.numberNGBRUnits]);useEffect(function(){setMonthlyMaintenanceCostPerZTR(Math.round(averageHourlyMaintenanceCost*mowingMonthly));},[averageHourlyMaintenanceCost,mowingMonthly]);useEffect(function(){setMonthlyFuelCostPerZTR(Math.round(latestFuelWeeklyPrice*fuelConsumptionRate*mowingMonthly));},[fuelConsumptionRate,latestFuelWeeklyPrice,mowingMonthly]);useEffect(function(){setMonthlyMaintenanceCostPerNGBR(Math.round(monthlyMaintenanceCostPerZTR*electricMaintenanceCostGas));},[electricMaintenanceCostGas,monthlyMaintenanceCostPerZTR]);useEffect(function(){setTotalMonthlyPaaSMaintenanceCost(monthlyMaintenanceCostPerNGBR*customerInputs.numberNGBRUnits);},[customerInputs.numberNGBRUnits,monthlyMaintenanceCostPerNGBR]);useEffect(function(){setNGBROpEx(totalMonthlyPaaSPowerCost+totalMonthlyPaaSMaintenanceCost);},[totalMonthlyPaaSMaintenanceCost,totalMonthlyPaaSPowerCost]);useEffect(function(){setTotalMonthlyZTRFuelCost(monthlyFuelCostPerZTR*customerInputs.numberNGBRUnits);},[customerInputs.numberNGBRUnits,monthlyFuelCostPerZTR]);useEffect(function(){setTotalMonthlyZTRMaintenanceCost(monthlyMaintenanceCostPerZTR*customerInputs.numberNGBRUnits);},[customerInputs.numberNGBRUnits,monthlyMaintenanceCostPerZTR]);useEffect(function(){setGasZTROpEx(totalMonthlyZTRFuelCost+totalMonthlyZTRMaintenanceCost);},[totalMonthlyZTRFuelCost,totalMonthlyZTRMaintenanceCost]);useEffect(function(){setTotalGasZTRPurchasePrice(customerInputs.gasZTRPrice*customerInputs.numberNGBRUnits);},[customerInputs.gasZTRPrice,customerInputs.numberNGBRUnits]);useEffect(function(){setTotalNGBRCostBare(BareNGBR*customerInputs.numberNGBRUnits);},[BareNGBR,customerInputs.numberNGBRUnits]);useEffect(function(){setCostofChargers(powerProgramCosts.charger*requiredEquipment.totalChargers);},[powerProgramCosts.charger,requiredEquipment.totalChargers]);useEffect(function(){setCostofBateries(powerProgramCosts.battery*requiredEquipment.totalBateries);},[powerProgramCosts.battery,requiredEquipment.totalBateries]);useEffect(function(){setTotalNGBRCostWith(costofBateries+costofChargers+totalNGBRCostBare);},[costofBateries,costofChargers,totalNGBRCostBare]);useEffect(function(){setSavingsWith4yearFinancing(gasZTROpEx-(NGBROpEx+pricing.priceMo48));},[NGBROpEx,gasZTROpEx,pricing.priceMo48]);useEffect(function(){setSavingsWith3yearFinancing(gasZTROpEx-(NGBROpEx+pricing.priceMo36));},[NGBROpEx,gasZTROpEx,pricing.priceMo36]);useEffect(function(){setSavingsWithFPP(gasZTROpEx-(NGBROpEx+pricing.targetPaasMonthlyPrice));},[NGBROpEx,gasZTROpEx,pricing.targetPaasMonthlyPrice]);useEffect(function(){setSavingsWithNGBRCashPurchase(gasZTROpEx-NGBROpEx);},[NGBROpEx,gasZTROpEx]);useEffect(function(){setBreakeven({breakevenOutrightPurchaseNoResale:((totalNGBRCostWith-totalGasZTRPurchasePrice)/savingsWithNGBRCashPurchase).toFixed(4),breakevenFPPNoResale:((totalNGBRCostBare-totalGasZTRPurchasePrice)/savingsWithFPP).toFixed(4),breakeven3yearFinancingNoResale:((totalNGBRCostBare-totalGasZTRPurchasePrice)/savingsWith3yearFinancing).toFixed(4),breakeven4yearFinancingNoResale:((totalNGBRCostBare-totalGasZTRPurchasePrice)/savingsWith4yearFinancing).toFixed(4)});},[savingsWith3yearFinancing,savingsWith4yearFinancing,savingsWithFPP,savingsWithNGBRCashPurchase,totalGasZTRPurchasePrice,totalNGBRCostBare,totalNGBRCostWith]);useEffect(function(){setNGBRResalePriceBareNGBR((totalNGBRCostBare*(1-depreciationInputs.electricZTRDepreciationRate)).toFixed(4));},[depreciationInputs.electricZTRDepreciationRate,totalNGBRCostBare]);useEffect(function(){setNGBRResalePriceNGBR((totalNGBRCostWith*(1-depreciationInputs.electricZTRDepreciationRate)).toFixed(4));},[depreciationInputs.electricZTRDepreciationRate,totalNGBRCostWith]);useEffect(function(){setGasZTRResalePrice((totalGasZTRPurchasePrice*(1-depreciationInputs.gasZTRDepreciationRate)).toFixed(4));},[depreciationInputs.gasZTRDepreciationRate,totalGasZTRPurchasePrice]);useEffect(function(){setEZTRResalePremiumBareNGBR(NGBRResalePriceBareNGBR-gasZTRResalePrice);},[NGBRResalePriceBareNGBR,gasZTRResalePrice]);useEffect(function(){setEZTRResalePremiumCashPurchase(NGBRResalePriceNGBR-eZTRResalePremiumBareNGBR);},[NGBRResalePriceNGBR,eZTRResalePremiumBareNGBR]);useEffect(function(){setGasZTR({TCOofGasZTR:gasZTR.depreciationofGasZTR+gasZTR.fuel+gasZTR.maintenance,depreciationofGasZTR:customerInputs.gasZTRPrice*depreciationInputs.gasZTRDepreciationRate*customerInputs.numberNGBRUnits,fuel:totalMonthlyZTRFuelCost*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO,maintenance:totalMonthlyZTRMaintenanceCost*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO});},[customerInputs.gasZTRPrice,customerInputs.lengthMowingSeason,customerInputs.numberNGBRUnits,depreciationInputs.gasZTRDepreciationRate,gasZTR.depreciationofGasZTR,gasZTR.fuel,gasZTR.maintenance,lengthMowingOperationsTCO,totalMonthlyZTRFuelCost,totalMonthlyZTRMaintenanceCost]);useEffect(function(){setCashPurchase({TCOofNGBR:cashPurchase.depreciationofGasZTR+cashPurchase.power+cashPurchase.maintenance,depreciationofGasZTR:totalNGBRCostWith*depreciationInputs.electricZTRDepreciationRate,power:totalMonthlyPaaSPowerCost*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO,maintenance:totalMonthlyPaaSMaintenanceCost*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO});},[cashPurchase.depreciationofGasZTR,cashPurchase.maintenance,cashPurchase.power,customerInputs.lengthMowingSeason,depreciationInputs.electricZTRDepreciationRate,lengthMowingOperationsTCO,totalMonthlyPaaSMaintenanceCost,totalMonthlyPaaSPowerCost,totalNGBRCostWith]);useEffect(function(){setNGBRWithFlexiblePowerProgram({depreciationOfBareNGBR:totalNGBRCostBare*depreciationInputs.electricZTRDepreciationRate,flexiblePowerProgramSubscription:pricing.targetPaasMonthlyPrice*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO,financingFee36:pricing.priceMo36*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO,financingFee48:pricing.priceMo48*customerInputs.lengthMowingSeason*lengthMowingOperationsTCO});},[customerInputs.lengthMowingSeason,depreciationInputs.electricZTRDepreciationRate,lengthMowingOperationsTCO,pricing.priceMo36,pricing.priceMo48,pricing.targetPaasMonthlyPrice,totalNGBRCostBare]);useEffect(function(){setGallonsOfFuelConsumedOverPerYear(fuelConsumptionRate*mowingMonthly*customerInputs.lengthMowingSeason*customerInputs.numberNGBRUnits);},[customerInputs.lengthMowingSeason,customerInputs.numberNGBRUnits,fuelConsumptionRate,mowingMonthly]);useEffect(function(){setPoundsOfCO2Avoided(gallonsOfFuelConsumedOverPerYear*enviromentalBenefits.convertingGallonsOfGasolineToCO2);},[enviromentalBenefits.convertingGallonsOfGasolineToCO2,gallonsOfFuelConsumedOverPerYear]);useEffect(function(){setNumberOfMaintenanceJobsPerYear((mowingMonthly*customerInputs.lengthMowingSeason*customerInputs.numberNGBRUnits/averageFrequencyPerZTRServicing).toFixed(4));},[averageFrequencyPerZTRServicing,customerInputs.lengthMowingSeason,customerInputs.numberNGBRUnits,mowingMonthly]);useEffect(function(){setReductionFromNGBRResale({cashPurchase:Math.round(eZTRResalePremiumCashPurchase/savingsWithNGBRCashPurchase),FPP:Math.round(eZTRResalePremiumBareNGBR/savingsWithFPP),financing36:Math.round(eZTRResalePremiumBareNGBR/savingsWith3yearFinancing),financing48:Math.round(eZTRResalePremiumBareNGBR/savingsWith4yearFinancing)});},[eZTRResalePremiumBareNGBR,eZTRResalePremiumCashPurchase,savingsWith3yearFinancing,savingsWith4yearFinancing,savingsWithFPP,savingsWithNGBRCashPurchase]);useEffect(function(){setRequiredEquipment({bateries:paasCal.equipment.requiredEquipment[customerInputs.mowingHours].bateries,chargers:paasCal.equipment.requiredEquipment[customerInputs.mowingHours].chargers,totalBateries:paasCal.equipment.requiredEquipment[customerInputs.mowingHours].bateries*customerInputs.numberNGBRUnits,totalChargers:paasCal.equipment.requiredEquipment[customerInputs.mowingHours].chargers*customerInputs.numberNGBRUnits});},[customerInputs.mowingHours,customerInputs.numberNGBRUnits]);useEffect(function(){var financing;paasCal.financingOptions.forEach(function(financingOption){financing=_objectSpread(_objectSpread({},financing),{},_defineProperty({},\"priceMo\".concat(financingOption.presentValue),Math.round(PMT(financingOption.interestRate/financingOption.totalNumberPayments,financingOption.presentValue,-pricing.totalCashPrice))));});setPricing(_objectSpread({totalCashPrice:requiredEquipment.totalBateries*powerProgramCosts.battery+requiredEquipment.totalChargers*powerProgramCosts.charger,targetPaasMonthlyPrice:Math.round(pricing.priceMo48+(pricing.priceMo48*0.1+1)),annualizedPaaSPrice:Math.round(pricing.targetPaasMonthlyPrice*12),annualRebateOffSeason:lengthOffSeason*pricing.targetPaasMonthlyPrice},financing));},[requiredEquipment,powerProgramCosts.battery,powerProgramCosts.charger,pricing.totalCashPrice,pricing.priceMo48,pricing.targetPaasMonthlyPrice,lengthOffSeason]);useEffect(function(){setLengthMowingOperationsTCO((totalHoursMowedTCOAnalysis/(mowingMonthly*customerInputs.lengthMowingSeason)).toFixed(4));},[customerInputs.lengthMowingSeason,mowingMonthly]);//#endregion\n// STEPS COMFIGURATION:\nvar _useState89=useState(1),_useState90=_slicedToArray(_useState89,2),whichStep=_useState90[0],setWhichStep=_useState90[1];var _useState91=useState(false),_useState92=_slicedToArray(_useState91,2),password=_useState92[0],setPassword=_useState92[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[loading===true&&/*#__PURE__*/_jsx(Loading,{loading:loading}),getCookies(\"loggedIn\")?/*#__PURE__*/_jsx(Steps,{whichStep:whichStep,setWhichStep:setWhichStep,customerInputs:customerInputs,setDuoarea:setDuoarea,setCustomerInputs:setCustomerInputs,pricing:pricing,requiredEquipment:requiredEquipment,totalMonthlyPaaSPowerCost:totalMonthlyPaaSPowerCost,totalMonthlyPaaSMaintenanceCost:totalMonthlyPaaSMaintenanceCost,breakeven:breakeven,reductionFromNGBRResale:reductionFromNGBRResale,gasZTR:gasZTR,cashPurchase:cashPurchase,NGBRWithFlexiblePowerProgram:NGBRWithFlexiblePowerProgram,numberOfMaintenanceJobsPerYear:numberOfMaintenanceJobsPerYear,averageTotalTimeForServicing:averageTotalTimeForServicing,monthlyPaaSPowerCostNGBR:monthlyPaaSPowerCostNGBR,monthlyFuelCostPerZTR:monthlyFuelCostPerZTR,monthlyMaintenanceCostPerNGBR:monthlyMaintenanceCostPerNGBR,monthlyMaintenanceCostPerZTR:monthlyMaintenanceCostPerZTR,enviromentalBenefits:enviromentalBenefits,poundsOfCO2Avoided:poundsOfCO2Avoided,editThis:editThis,setEditThis:setEditThis,latestAvgPowerPrice:latestAvgPowerPrice,setLatestAvgPowerPrice:setLatestAvgPowerPrice,latestFuelWeeklyPrice:latestFuelWeeklyPrice,setLatestFuelWeeklyPrice:setLatestFuelWeeklyPrice}):/*#__PURE__*/_jsx(Password,{setPassword:setPassword,password:password})]});};export default PaasCalculator;","map":{"version":3,"sources":["/Users/toddheckeler/websites/paas-calculator/src/components/PaasCalculator.js"],"names":["React","useState","useEffect","paasCal","PMT","Loading","Steps","Password","getCookies","PaasCalculator","loading","setLoading","geolocated","setGeolocated","averageWeeksPerMonth","Number","toFixed","mowingMonthly","setMowingMonthly","lengthOffSeason","setLengthOffSeason","customerInputs","setCustomerInputs","equipment","deault","requiredEquipment","setRequiredEquipment","powerProgramCosts","pricing","NGBRBatteryCapacity","averageHourlyMaintenanceCost","fuelConsumptionRate","electricMaintenanceCostGas","duoarea","setDuoarea","setPricing","monthlyPaaSPowerCostNGBR","setMonthlyPaaSPowerCostNGBR","totalMonthlyPaaSPowerCost","setTotalMonthlyPaaSPowerCost","monthlyMaintenanceCostPerZTR","setMonthlyMaintenanceCostPerZTR","monthlyFuelCostPerZTR","setMonthlyFuelCostPerZTR","monthlyMaintenanceCostPerNGBR","setMonthlyMaintenanceCostPerNGBR","totalMonthlyZTRFuelCost","setTotalMonthlyZTRFuelCost","totalMonthlyZTRMaintenanceCost","setTotalMonthlyZTRMaintenanceCost","depreciationInputs","totalHoursMowedTCOAnalysis","lengthMowingOperationsTCO","setLengthMowingOperationsTCO","totalMonthlyPaaSMaintenanceCost","setTotalMonthlyPaaSMaintenanceCost","NGBROpEx","setNGBROpEx","gasZTROpEx","setGasZTROpEx","totalGasZTRPurchasePrice","setTotalGasZTRPurchasePrice","BareNGBR","totalNGBRCostBare","setTotalNGBRCostBare","costofChargers","setCostofChargers","costofBateries","setCostofBateries","totalNGBRCostWith","setTotalNGBRCostWith","savingsWith4yearFinancing","setSavingsWith4yearFinancing","savingsWith3yearFinancing","setSavingsWith3yearFinancing","savingsWithFPP","setSavingsWithFPP","savingsWithNGBRCashPurchase","setSavingsWithNGBRCashPurchase","breakeven4yearFinancingNoResale","breakeven3yearFinancingNoResale","breakevenFPPNoResale","breakevenOutrightPurchaseNoResale","breakeven","setBreakeven","NGBRResalePriceBareNGBR","setNGBRResalePriceBareNGBR","NGBRResalePriceNGBR","setNGBRResalePriceNGBR","gasZTRResalePrice","setGasZTRResalePrice","eZTRResalePremiumBareNGBR","setEZTRResalePremiumBareNGBR","eZTRResalePremiumCashPurchase","setEZTRResalePremiumCashPurchase","TCOofGasZTR","depreciationofGasZTR","fuel","maintenance","gasZTR","setGasZTR","TCOofNGBR","power","cashPurchase","setCashPurchase","depreciationOfBareNGBR","flexiblePowerProgramSubscription","financingFee36","financingFee48","NGBRWithFlexiblePowerProgram","setNGBRWithFlexiblePowerProgram","enviromentalBenefits","gallonsOfFuelConsumedOverPerYear","setGallonsOfFuelConsumedOverPerYear","poundsOfCO2Avoided","setPoundsOfCO2Avoided","averageFrequencyPerZTRServicing","averageCommuteToFromServicingDealer","averageTimeForServicing","averageTotalTimeForServicing","numberOfMaintenanceJobsPerYear","setNumberOfMaintenanceJobsPerYear","reductionFromNGBRResale","setReductionFromNGBRResale","state","gasZTRPrice","daysMowedPerWeek","numberNGBRUnits","mowingHours","lengthMowingSeason","editThis","setEditThis","window","navigator","geolocation","getCurrentPosition","loc","coords","latitude","longitude","fetch","process","env","REACT_APP_GEOCODING_API_KEY","then","response","json","pos","results","length","address_components","forEach","component","short_name","location","console","error","catch","latestFuelWeeklyPrice","setLatestFuelWeeklyPrice","latestAvgPowerPrice","setLatestAvgPowerPrice","resetInError","type","fetchLatestPrices","url","ok","Error","data","value","price","Promise","allSettled","REACT_APP_EIA_KEY","Math","round","bateries","chargers","totalBateries","totalChargers","charger","battery","priceMo48","priceMo36","targetPaasMonthlyPrice","electricZTRDepreciationRate","gasZTRDepreciationRate","convertingGallonsOfGasolineToCO2","FPP","financing36","financing48","financing","financingOptions","financingOption","presentValue","interestRate","totalNumberPayments","totalCashPrice","annualizedPaaSPrice","annualRebateOffSeason","whichStep","setWhichStep","password","setPassword"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport paasCal from \"../data/paas-cal.json\";\nimport PMT from \"../utils/pmt\";\nimport Loading from \"./loading/Loading\";\nimport Steps from \"./steps/Steps\";\nimport Password from \"./password/Password\";\nimport getCookies from \"../utils/getCookies\";\n\nimport \"../scss/paas-calculator.scss\";\n\nconst PaasCalculator = () => {\n  //#region PRE-CALCULATIONS\n  const [loading, setLoading] = useState(true);\n  const [geolocated, setGeolocated] = useState(false);\n\n  const averageWeeksPerMonth = Number(\n    paasCal.averageWeeksPerMonth / 12\n  ).toFixed(4);\n  const [mowingMonthly, setMowingMonthly] = useState(paasCal.mowingMonthly);\n  const [lengthOffSeason, setLengthOffSeason] = useState(\n    paasCal.lengthOffSeason\n  );\n  const [customerInputs, setCustomerInputs] = useState({\n    ...paasCal.customerInputs,\n  });\n  const [requiredEquipment, setRequiredEquipment] = useState({\n    ...paasCal.equipment.deault,\n  });\n  const powerProgramCosts = { ...paasCal.equipment.pricing };\n  const NGBRBatteryCapacity = paasCal.NGBRBatteryCapacity;\n  const averageHourlyMaintenanceCost = paasCal.averageHourlyMaintenanceCost;\n  const fuelConsumptionRate = paasCal.fuelConsumptionRate;\n  const electricMaintenanceCostGas = paasCal.electricMaintenanceCostGas;\n  const [duoarea, setDuoarea] = useState(paasCal.duoarea);\n  const [pricing, setPricing] = useState({ ...paasCal.pricing });\n  const [monthlyPaaSPowerCostNGBR, setMonthlyPaaSPowerCostNGBR] = useState(\n    paasCal.monthlyPaaSPowerCostNGBR\n  );\n  const [totalMonthlyPaaSPowerCost, setTotalMonthlyPaaSPowerCost] = useState(\n    paasCal.monthlyPaaSPowerCostNGBR\n  );\n  const [monthlyMaintenanceCostPerZTR, setMonthlyMaintenanceCostPerZTR] =\n    useState(0);\n  const [monthlyFuelCostPerZTR, setMonthlyFuelCostPerZTR] = useState(0);\n  const [monthlyMaintenanceCostPerNGBR, setMonthlyMaintenanceCostPerNGBR] =\n    useState(0);\n\n  const [totalMonthlyZTRFuelCost, setTotalMonthlyZTRFuelCost] = useState(0);\n  const [totalMonthlyZTRMaintenanceCost, setTotalMonthlyZTRMaintenanceCost] =\n    useState(0);\n  const depreciationInputs = { ...paasCal.depreciationInputs };\n  const totalHoursMowedTCOAnalysis = 3000;\n  const [lengthMowingOperationsTCO, setLengthMowingOperationsTCO] =\n    useState(1.978);\n  // const paaSPremiumOverFourYearFinancing =\n  //   paasCal.paaSPremiumOverFourYearFinancing;\n  const [totalMonthlyPaaSMaintenanceCost, setTotalMonthlyPaaSMaintenanceCost] =\n    useState(0);\n  const [NGBROpEx, setNGBROpEx] = useState(0);\n  const [gasZTROpEx, setGasZTROpEx] = useState(0);\n  const [totalGasZTRPurchasePrice, setTotalGasZTRPurchasePrice] = useState(0);\n  const BareNGBR = paasCal.BareNGBR;\n  const [totalNGBRCostBare, setTotalNGBRCostBare] = useState(0);\n  const [costofChargers, setCostofChargers] = useState(0);\n  const [costofBateries, setCostofBateries] = useState(0);\n  const [totalNGBRCostWith, setTotalNGBRCostWith] = useState(0);\n  const [savingsWith4yearFinancing, setSavingsWith4yearFinancing] = useState(0);\n  const [savingsWith3yearFinancing, setSavingsWith3yearFinancing] = useState(0);\n  const [savingsWithFPP, setSavingsWithFPP] = useState(0);\n  const [savingsWithNGBRCashPurchase, setSavingsWithNGBRCashPurchase] =\n    useState(0);\n  const [breakeven, setBreakeven] = useState({\n    breakeven4yearFinancingNoResale: 0,\n    breakeven3yearFinancingNoResale: 0,\n    breakevenFPPNoResale: 0,\n    breakevenOutrightPurchaseNoResale: 0,\n  });\n  const [NGBRResalePriceBareNGBR, setNGBRResalePriceBareNGBR] = useState(0);\n  const [NGBRResalePriceNGBR, setNGBRResalePriceNGBR] = useState(0);\n  const [gasZTRResalePrice, setGasZTRResalePrice] = useState(0);\n  const [eZTRResalePremiumBareNGBR, setEZTRResalePremiumBareNGBR] = useState(0);\n  const [eZTRResalePremiumCashPurchase, setEZTRResalePremiumCashPurchase] =\n    useState(0);\n  const [gasZTR, setGasZTR] = useState({\n    TCOofGasZTR: 0,\n    depreciationofGasZTR: 0,\n    fuel: 0,\n    maintenance: 0,\n  });\n  const [cashPurchase, setCashPurchase] = useState({\n    TCOofNGBR: 0,\n    depreciationofGasZTR: 0,\n    power: 0,\n    maintenance: 0,\n  });\n  const [NGBRWithFlexiblePowerProgram, setNGBRWithFlexiblePowerProgram] =\n    useState({\n      depreciationOfBareNGBR: 0,\n      flexiblePowerProgramSubscription: 0,\n      financingFee36: 0,\n      financingFee48: 0,\n    });\n  const enviromentalBenefits = { ...paasCal.enviromentalBenefits };\n  const [\n    gallonsOfFuelConsumedOverPerYear,\n    setGallonsOfFuelConsumedOverPerYear,\n  ] = useState(paasCal.gallonsOfFuelConsumedOverPerYear);\n  const [poundsOfCO2Avoided, setPoundsOfCO2Avoided] = useState(\n    paasCal.poundsOfCO2Avoided\n  );\n  const averageFrequencyPerZTRServicing =\n    paasCal.averageFrequencyPerZTRServicing;\n  const averageCommuteToFromServicingDealer =\n    paasCal.averageCommuteToFromServicingDealer;\n  const averageTimeForServicing = paasCal.averageTimeForServicing;\n  const averageTotalTimeForServicing =\n    averageTimeForServicing + averageCommuteToFromServicingDealer;\n  const [numberOfMaintenanceJobsPerYear, setNumberOfMaintenanceJobsPerYear] =\n    useState(paasCal.numberOfMaintenanceJobsPerYear);\n  const [reductionFromNGBRResale, setReductionFromNGBRResale] = useState({\n    ...paasCal.reductionFromNGBRResale,\n  });\n\n  const [editThis, setEditThis] = useState({\n    state: false,\n    gasZTRPrice: false,\n    daysMowedPerWeek: false,\n    numberNGBRUnits: false,\n    mowingHours: false,\n    lengthMowingSeason: false,\n  });\n  //#endregion PRE-CALCULATIONS\n\n  //#region useEffects\n  useEffect(() => {\n    if (!geolocated) {\n      window.navigator.geolocation.getCurrentPosition(\n        (loc) => {\n          const { latitude, longitude } = loc.coords;\n          fetch(\n            `https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&result_type=locality&key=${process.env.REACT_APP_GEOCODING_API_KEY}`\n          )\n            .then((response) => response.json())\n            .then((pos) => {\n              if (pos.results.length > 0) {\n                pos.results[0].address_components.forEach((component) => {\n                  if (component.short_name === \"US\") {\n                    setCustomerInputs({\n                      ...customerInputs,\n                      location: pos.results[0].address_components[2].short_name,\n                    });\n                  }\n                });\n              } else {\n                console.error(\"Error fetching data\");\n              }\n            })\n            .catch(function (error) {\n              console.error(error);\n            });\n          //console.log(\"located\");\n          setGeolocated(true);\n        },\n        (error) => {\n          setGeolocated(true);\n          console.error(\"Unable to retrieve your location\", error);\n        }\n      );\n    }\n  });\n\n  const [latestFuelWeeklyPrice, setLatestFuelWeeklyPrice] = useState(\n    paasCal.latestFuelWeeklyPrice\n  );\n  const [latestAvgPowerPrice, setLatestAvgPowerPrice] = useState(\n    paasCal.latestAvgPowerPrice\n  );\n\n  useEffect(() => {\n    const resetInError = (type) => {\n      if (type === \"petroleum\") {\n        setLatestFuelWeeklyPrice(paasCal.latestFuelWeeklyPrice);\n      } else {\n        setLatestAvgPowerPrice(paasCal.latestAvgPowerPrice);\n      }\n    };\n\n    const fetchLatestPrices = async (url, type) => {\n      setLoading(true);\n      await fetch(url)\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          } else {\n            resetInError(type);\n            throw new Error(\"Something went wrong\");\n          }\n        })\n        .then((data) => {\n          if (type === \"petroleum\") {\n            setLatestFuelWeeklyPrice(data.response.data[0].value);\n          } else {\n            setLatestAvgPowerPrice(data.response.data[0].price / 100);\n          }\n        })\n        .catch(() => {\n          resetInError(type);\n        });\n    };\n\n    Promise.allSettled([\n      fetchLatestPrices(\n        `https://api.eia.gov/v2/petroleum/pri/gnd/data/?frequency=weekly&data[0]=value&facets[product][]=EPMRU&facets[duoarea][]=${duoarea}&sort[0][column]=period&sort[0][direction]=desc&length=1&api_key=${process.env.REACT_APP_EIA_KEY}`,\n        \"petroleum\"\n      ),\n\n      fetchLatestPrices(\n        `https://api.eia.gov/v2/electricity/retail-sales/data/?frequency=monthly&data[0]=price&facets[sectorid][]=RES&facets[stateid][]=${customerInputs.location}&sort[0][column]=period&sort[0][direction]=desc&length=1&api_key=${process.env.REACT_APP_EIA_KEY}`,\n        \"electricity\"\n      ),\n    ]).then(() => {\n      setLoading(false);\n    });\n  }, [customerInputs.location, duoarea]);\n\n  useEffect(() => {\n    setMowingMonthly(\n      (\n        customerInputs.mowingHours *\n        customerInputs.daysMowedPerWeek *\n        averageWeeksPerMonth\n      ).toFixed(4)\n    );\n  }, [\n    averageWeeksPerMonth,\n    customerInputs.daysMowedPerWeek,\n    customerInputs.mowingHours,\n  ]);\n\n  useEffect(() => {\n    setLengthOffSeason(12 - customerInputs.lengthMowingSeason);\n  }, [customerInputs.lengthMowingSeason]);\n\n  useEffect(() => {\n    setMonthlyPaaSPowerCostNGBR(\n      Math.round(latestAvgPowerPrice * NGBRBatteryCapacity * mowingMonthly)\n    );\n  }, [NGBRBatteryCapacity, latestAvgPowerPrice, mowingMonthly]);\n\n  useEffect(() => {\n    setTotalMonthlyPaaSPowerCost(\n      monthlyPaaSPowerCostNGBR * customerInputs.numberNGBRUnits\n    );\n  }, [customerInputs.numberNGBRUnits, monthlyPaaSPowerCostNGBR]);\n\n  useEffect(() => {\n    setRequiredEquipment({\n      bateries: paasCal.equipment.deault.bateries,\n      chargers: paasCal.equipment.deault.chargers,\n      totalBateries:\n        paasCal.equipment.deault.bateries * customerInputs.numberNGBRUnits,\n      totalChargers:\n        paasCal.equipment.deault.chargers * customerInputs.numberNGBRUnits,\n    });\n  }, [customerInputs.numberNGBRUnits]);\n\n  useEffect(() => {\n    setMonthlyMaintenanceCostPerZTR(\n      Math.round(averageHourlyMaintenanceCost * mowingMonthly)\n    );\n  }, [averageHourlyMaintenanceCost, mowingMonthly]);\n\n  useEffect(() => {\n    setMonthlyFuelCostPerZTR(\n      Math.round(latestFuelWeeklyPrice * fuelConsumptionRate * mowingMonthly)\n    );\n  }, [fuelConsumptionRate, latestFuelWeeklyPrice, mowingMonthly]);\n\n  useEffect(() => {\n    setMonthlyMaintenanceCostPerNGBR(\n      Math.round(monthlyMaintenanceCostPerZTR * electricMaintenanceCostGas)\n    );\n  }, [electricMaintenanceCostGas, monthlyMaintenanceCostPerZTR]);\n\n  useEffect(() => {\n    setTotalMonthlyPaaSMaintenanceCost(\n      monthlyMaintenanceCostPerNGBR * customerInputs.numberNGBRUnits\n    );\n  }, [customerInputs.numberNGBRUnits, monthlyMaintenanceCostPerNGBR]);\n\n  useEffect(() => {\n    setNGBROpEx(totalMonthlyPaaSPowerCost + totalMonthlyPaaSMaintenanceCost);\n  }, [totalMonthlyPaaSMaintenanceCost, totalMonthlyPaaSPowerCost]);\n\n  useEffect(() => {\n    setTotalMonthlyZTRFuelCost(\n      monthlyFuelCostPerZTR * customerInputs.numberNGBRUnits\n    );\n  }, [customerInputs.numberNGBRUnits, monthlyFuelCostPerZTR]);\n\n  useEffect(() => {\n    setTotalMonthlyZTRMaintenanceCost(\n      monthlyMaintenanceCostPerZTR * customerInputs.numberNGBRUnits\n    );\n  }, [customerInputs.numberNGBRUnits, monthlyMaintenanceCostPerZTR]);\n\n  useEffect(() => {\n    setGasZTROpEx(totalMonthlyZTRFuelCost + totalMonthlyZTRMaintenanceCost);\n  }, [totalMonthlyZTRFuelCost, totalMonthlyZTRMaintenanceCost]);\n\n  useEffect(() => {\n    setTotalGasZTRPurchasePrice(\n      customerInputs.gasZTRPrice * customerInputs.numberNGBRUnits\n    );\n  }, [customerInputs.gasZTRPrice, customerInputs.numberNGBRUnits]);\n\n  useEffect(() => {\n    setTotalNGBRCostBare(BareNGBR * customerInputs.numberNGBRUnits);\n  }, [BareNGBR, customerInputs.numberNGBRUnits]);\n\n  useEffect(() => {\n    setCostofChargers(\n      powerProgramCosts.charger * requiredEquipment.totalChargers\n    );\n  }, [powerProgramCosts.charger, requiredEquipment.totalChargers]);\n\n  useEffect(() => {\n    setCostofBateries(\n      powerProgramCosts.battery * requiredEquipment.totalBateries\n    );\n  }, [powerProgramCosts.battery, requiredEquipment.totalBateries]);\n\n  useEffect(() => {\n    setTotalNGBRCostWith(costofBateries + costofChargers + totalNGBRCostBare);\n  }, [costofBateries, costofChargers, totalNGBRCostBare]);\n\n  useEffect(() => {\n    setSavingsWith4yearFinancing(gasZTROpEx - (NGBROpEx + pricing.priceMo48));\n  }, [NGBROpEx, gasZTROpEx, pricing.priceMo48]);\n\n  useEffect(() => {\n    setSavingsWith3yearFinancing(gasZTROpEx - (NGBROpEx + pricing.priceMo36));\n  }, [NGBROpEx, gasZTROpEx, pricing.priceMo36]);\n\n  useEffect(() => {\n    setSavingsWithFPP(gasZTROpEx - (NGBROpEx + pricing.targetPaasMonthlyPrice));\n  }, [NGBROpEx, gasZTROpEx, pricing.targetPaasMonthlyPrice]);\n\n  useEffect(() => {\n    setSavingsWithNGBRCashPurchase(gasZTROpEx - NGBROpEx);\n  }, [NGBROpEx, gasZTROpEx]);\n\n  useEffect(() => {\n    setBreakeven({\n      breakevenOutrightPurchaseNoResale: (\n        (totalNGBRCostWith - totalGasZTRPurchasePrice) /\n        savingsWithNGBRCashPurchase\n      ).toFixed(4),\n      breakevenFPPNoResale: (\n        (totalNGBRCostBare - totalGasZTRPurchasePrice) /\n        savingsWithFPP\n      ).toFixed(4),\n      breakeven3yearFinancingNoResale: (\n        (totalNGBRCostBare - totalGasZTRPurchasePrice) /\n        savingsWith3yearFinancing\n      ).toFixed(4),\n      breakeven4yearFinancingNoResale: (\n        (totalNGBRCostBare - totalGasZTRPurchasePrice) /\n        savingsWith4yearFinancing\n      ).toFixed(4),\n    });\n  }, [\n    savingsWith3yearFinancing,\n    savingsWith4yearFinancing,\n    savingsWithFPP,\n    savingsWithNGBRCashPurchase,\n    totalGasZTRPurchasePrice,\n    totalNGBRCostBare,\n    totalNGBRCostWith,\n  ]);\n\n  useEffect(() => {\n    setNGBRResalePriceBareNGBR(\n      (\n        totalNGBRCostBare *\n        (1 - depreciationInputs.electricZTRDepreciationRate)\n      ).toFixed(4)\n    );\n  }, [depreciationInputs.electricZTRDepreciationRate, totalNGBRCostBare]);\n\n  useEffect(() => {\n    setNGBRResalePriceNGBR(\n      (\n        totalNGBRCostWith *\n        (1 - depreciationInputs.electricZTRDepreciationRate)\n      ).toFixed(4)\n    );\n  }, [depreciationInputs.electricZTRDepreciationRate, totalNGBRCostWith]);\n\n  useEffect(() => {\n    setGasZTRResalePrice(\n      (\n        totalGasZTRPurchasePrice *\n        (1 - depreciationInputs.gasZTRDepreciationRate)\n      ).toFixed(4)\n    );\n  }, [depreciationInputs.gasZTRDepreciationRate, totalGasZTRPurchasePrice]);\n\n  useEffect(() => {\n    setEZTRResalePremiumBareNGBR(NGBRResalePriceBareNGBR - gasZTRResalePrice);\n  }, [NGBRResalePriceBareNGBR, gasZTRResalePrice]);\n\n  useEffect(() => {\n    setEZTRResalePremiumCashPurchase(\n      NGBRResalePriceNGBR - eZTRResalePremiumBareNGBR\n    );\n  }, [NGBRResalePriceNGBR, eZTRResalePremiumBareNGBR]);\n\n  useEffect(() => {\n    setGasZTR({\n      TCOofGasZTR:\n        gasZTR.depreciationofGasZTR + gasZTR.fuel + gasZTR.maintenance,\n      depreciationofGasZTR:\n        customerInputs.gasZTRPrice *\n        depreciationInputs.gasZTRDepreciationRate *\n        customerInputs.numberNGBRUnits,\n      fuel:\n        totalMonthlyZTRFuelCost *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n      maintenance:\n        totalMonthlyZTRMaintenanceCost *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n    });\n  }, [\n    customerInputs.gasZTRPrice,\n    customerInputs.lengthMowingSeason,\n    customerInputs.numberNGBRUnits,\n    depreciationInputs.gasZTRDepreciationRate,\n    gasZTR.depreciationofGasZTR,\n    gasZTR.fuel,\n    gasZTR.maintenance,\n    lengthMowingOperationsTCO,\n    totalMonthlyZTRFuelCost,\n    totalMonthlyZTRMaintenanceCost,\n  ]);\n\n  useEffect(() => {\n    setCashPurchase({\n      TCOofNGBR:\n        cashPurchase.depreciationofGasZTR +\n        cashPurchase.power +\n        cashPurchase.maintenance,\n      depreciationofGasZTR:\n        totalNGBRCostWith * depreciationInputs.electricZTRDepreciationRate,\n      power:\n        totalMonthlyPaaSPowerCost *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n      maintenance:\n        totalMonthlyPaaSMaintenanceCost *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n    });\n  }, [\n    cashPurchase.depreciationofGasZTR,\n    cashPurchase.maintenance,\n    cashPurchase.power,\n    customerInputs.lengthMowingSeason,\n    depreciationInputs.electricZTRDepreciationRate,\n    lengthMowingOperationsTCO,\n    totalMonthlyPaaSMaintenanceCost,\n    totalMonthlyPaaSPowerCost,\n    totalNGBRCostWith,\n  ]);\n\n  useEffect(() => {\n    setNGBRWithFlexiblePowerProgram({\n      depreciationOfBareNGBR:\n        totalNGBRCostBare * depreciationInputs.electricZTRDepreciationRate,\n      flexiblePowerProgramSubscription:\n        pricing.targetPaasMonthlyPrice *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n      financingFee36:\n        pricing.priceMo36 *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n      financingFee48:\n        pricing.priceMo48 *\n        customerInputs.lengthMowingSeason *\n        lengthMowingOperationsTCO,\n    });\n  }, [\n    customerInputs.lengthMowingSeason,\n    depreciationInputs.electricZTRDepreciationRate,\n    lengthMowingOperationsTCO,\n    pricing.priceMo36,\n    pricing.priceMo48,\n    pricing.targetPaasMonthlyPrice,\n    totalNGBRCostBare,\n  ]);\n\n  useEffect(() => {\n    setGallonsOfFuelConsumedOverPerYear(\n      fuelConsumptionRate *\n        mowingMonthly *\n        customerInputs.lengthMowingSeason *\n        customerInputs.numberNGBRUnits\n    );\n  }, [\n    customerInputs.lengthMowingSeason,\n    customerInputs.numberNGBRUnits,\n    fuelConsumptionRate,\n    mowingMonthly,\n  ]);\n\n  useEffect(() => {\n    setPoundsOfCO2Avoided(\n      gallonsOfFuelConsumedOverPerYear *\n        enviromentalBenefits.convertingGallonsOfGasolineToCO2\n    );\n  }, [\n    enviromentalBenefits.convertingGallonsOfGasolineToCO2,\n    gallonsOfFuelConsumedOverPerYear,\n  ]);\n\n  useEffect(() => {\n    setNumberOfMaintenanceJobsPerYear(\n      (\n        (mowingMonthly *\n          customerInputs.lengthMowingSeason *\n          customerInputs.numberNGBRUnits) /\n        averageFrequencyPerZTRServicing\n      ).toFixed(4)\n    );\n  }, [\n    averageFrequencyPerZTRServicing,\n    customerInputs.lengthMowingSeason,\n    customerInputs.numberNGBRUnits,\n    mowingMonthly,\n  ]);\n\n  useEffect(() => {\n    setReductionFromNGBRResale({\n      cashPurchase: Math.round(\n        eZTRResalePremiumCashPurchase / savingsWithNGBRCashPurchase\n      ),\n      FPP: Math.round(eZTRResalePremiumBareNGBR / savingsWithFPP),\n      financing36: Math.round(\n        eZTRResalePremiumBareNGBR / savingsWith3yearFinancing\n      ),\n      financing48: Math.round(\n        eZTRResalePremiumBareNGBR / savingsWith4yearFinancing\n      ),\n    });\n  }, [\n    eZTRResalePremiumBareNGBR,\n    eZTRResalePremiumCashPurchase,\n    savingsWith3yearFinancing,\n    savingsWith4yearFinancing,\n    savingsWithFPP,\n    savingsWithNGBRCashPurchase,\n  ]);\n\n  useEffect(() => {\n    setRequiredEquipment({\n      bateries:\n        paasCal.equipment.requiredEquipment[customerInputs.mowingHours]\n          .bateries,\n      chargers:\n        paasCal.equipment.requiredEquipment[customerInputs.mowingHours]\n          .chargers,\n      totalBateries:\n        paasCal.equipment.requiredEquipment[customerInputs.mowingHours]\n          .bateries * customerInputs.numberNGBRUnits,\n      totalChargers:\n        paasCal.equipment.requiredEquipment[customerInputs.mowingHours]\n          .chargers * customerInputs.numberNGBRUnits,\n    });\n  }, [customerInputs.mowingHours, customerInputs.numberNGBRUnits]);\n\n  useEffect(() => {\n    let financing;\n    paasCal.financingOptions.forEach((financingOption) => {\n      financing = {\n        ...financing,\n        [`priceMo${financingOption.presentValue}`]: Math.round(\n          PMT(\n            financingOption.interestRate / financingOption.totalNumberPayments,\n            financingOption.presentValue,\n            -pricing.totalCashPrice\n          )\n        ),\n      };\n    });\n\n    setPricing({\n      totalCashPrice:\n        requiredEquipment.totalBateries * powerProgramCosts.battery +\n        requiredEquipment.totalChargers * powerProgramCosts.charger,\n      targetPaasMonthlyPrice: Math.round(\n        pricing.priceMo48 + (pricing.priceMo48 * 0.1 + 1)\n      ),\n      annualizedPaaSPrice: Math.round(pricing.targetPaasMonthlyPrice * 12),\n      annualRebateOffSeason: lengthOffSeason * pricing.targetPaasMonthlyPrice,\n      ...financing,\n    });\n  }, [\n    requiredEquipment,\n    powerProgramCosts.battery,\n    powerProgramCosts.charger,\n    pricing.totalCashPrice,\n    pricing.priceMo48,\n    pricing.targetPaasMonthlyPrice,\n    lengthOffSeason,\n  ]);\n\n  useEffect(() => {\n    setLengthMowingOperationsTCO(\n      (\n        totalHoursMowedTCOAnalysis /\n        (mowingMonthly * customerInputs.lengthMowingSeason)\n      ).toFixed(4)\n    );\n  }, [customerInputs.lengthMowingSeason, mowingMonthly]);\n  //#endregion\n\n  // STEPS COMFIGURATION:\n  const [whichStep, setWhichStep] = useState(1);\n  const [password, setPassword] = useState(false);\n\n  return (\n    <>\n      {loading === true && <Loading {...{ loading }} />}\n      {getCookies(\"loggedIn\") ? (\n        <Steps\n          {...{\n            whichStep,\n            setWhichStep,\n            customerInputs,\n            setDuoarea,\n            setCustomerInputs,\n            pricing,\n            requiredEquipment,\n            totalMonthlyPaaSPowerCost,\n            totalMonthlyPaaSMaintenanceCost,\n            breakeven,\n            reductionFromNGBRResale,\n            gasZTR,\n            cashPurchase,\n            NGBRWithFlexiblePowerProgram,\n            numberOfMaintenanceJobsPerYear,\n            averageTotalTimeForServicing,\n            monthlyPaaSPowerCostNGBR,\n            monthlyFuelCostPerZTR,\n            monthlyMaintenanceCostPerNGBR,\n            monthlyMaintenanceCostPerZTR,\n            enviromentalBenefits,\n            poundsOfCO2Avoided,\n            editThis,\n            setEditThis,\n            latestAvgPowerPrice,\n            setLatestAvgPowerPrice,\n            latestFuelWeeklyPrice,\n            setLatestFuelWeeklyPrice,\n          }}\n        />\n      ) : (\n        <Password {...{ setPassword, password }} />\n      )}\n    </>\n  );\n};\n\nexport default PaasCalculator;\n"]},"metadata":{},"sourceType":"module"}